---
title: Arquitectura para extraer información de IoT para procesos de fabricación
description: Extraiga información de los datos de IoT con los servicios de Azure.
author: ercenk
ms.author: ercenk
manager: gmarchet
ms.service: industry
ms.topic: article
ms.date: 11/28/2019
ms.openlocfilehash: c08e6bbb1da47084122dae1ed6a9e1cea0b59473
ms.sourcegitcommit: db3bee67c1467884af223a48a895715afba8e08c
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 12/11/2019
ms.locfileid: "75005314"
---
# <a name="extracting-actionable-insights-from-iot-data"></a><span data-ttu-id="3e8cd-103">Extracción de información útil de los datos de IoT</span><span class="sxs-lookup"><span data-stu-id="3e8cd-103">Extracting actionable insights from IoT data</span></span>

<span data-ttu-id="3e8cd-104">Si usted está a cargo de las máquinas de una fábrica, ya sabrá que la adopción de Internet de las cosas es el siguiente paso que debe dar para la mejora de sus procesos y resultados.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-104">If you are responsible for the machines on a factory floor, you are already aware that the Internet of Things (IoT) is the next step in improving your processes and results.</span></span> <span data-ttu-id="3e8cd-105">Disponer de sensores en las máquinas, o en la planta de fabricación, constituye el primer paso.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-105">Having sensors on machines, or the factory floor, is the first step.</span></span> <span data-ttu-id="3e8cd-106">El siguiente paso es usar los datos, y ese es precisamente el objeto de este documento.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-106">The next step is to use the data—which is the object of this document.</span></span> <span data-ttu-id="3e8cd-107">Esta guía proporciona una introducción técnica de los componentes necesarios para extraer información útil del análisis de datos de IoT.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-107">This guide provides a technical overview of the components needed to extract actionable insights from IoT data analytics.</span></span>

<span data-ttu-id="3e8cd-108">Las soluciones de análisis de IoT se ocupan de transformar los datos de IoT sin procesar que provienen de un conjunto de dispositivos en un formato más adecuado para el análisis.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-108">IoT analytics solutions are about transforming raw IoT data coming from a set of devices into a form that is better suited for analytics.</span></span> <span data-ttu-id="3e8cd-109">Una vez que los datos estén en un formato que permite el análisis, podremos llevar a cabo este proceso.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-109">Once the data is in an analyzable form we can actually perform analytics.</span></span> <span data-ttu-id="3e8cd-110">Estos son algunos ejemplos de análisis:</span><span class="sxs-lookup"><span data-stu-id="3e8cd-110">Some examples of analytics include:</span></span>

- <span data-ttu-id="3e8cd-111">visualizaciones simples de los datos de telemetría; por ejemplo, un gráfico de barras que muestra las temperaturas en un período de tiempo</span><span class="sxs-lookup"><span data-stu-id="3e8cd-111">simple visualizations of the telemetry data, for example, a bar chart showing temperatures over time</span></span>
- <span data-ttu-id="3e8cd-112">cálculo de los KPI, por ejemplo, la eficacia global de los equipos</span><span class="sxs-lookup"><span data-stu-id="3e8cd-112">calculation of KPIs, for example, Overall Equipment Effectiveness (OEE)</span></span>
- <span data-ttu-id="3e8cd-113">análisis predictivo basado en modelos de aprendizaje automático</span><span class="sxs-lookup"><span data-stu-id="3e8cd-113">predictive analytics powered by machine learning models</span></span>

<span data-ttu-id="3e8cd-114">Estos análisis, a su vez, proporcionan información que fundamentan otras acciones.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-114">These analytics, in turn, provide insights that inform actions.</span></span> <span data-ttu-id="3e8cd-115">Estas acciones pueden ir desde el envío de un comando simple a una máquina hasta el ajuste de los parámetros operativos, la realización de una acción en otro sistema de software o la implantación de programas de mejora operativa en toda empresa.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-115">Actions may range from sending a simple command to a machine, to tweaking operational parameters, to performing an action on another software system, to implementing company-wide operational improvement programs.</span></span>

<span data-ttu-id="3e8cd-116">La siguiente ilustración muestra una cadena de acciones que se producen entre la máquina de una fábrica y el resultado final, que es una representación en panel de la "utilización" con un gráfico y la etiqueta "87,5 %".</span><span class="sxs-lookup"><span data-stu-id="3e8cd-116">The figure below shows a chain of actions that occur between a factory machine and the end result, which is a dashboard representation of “utilization,” showing a graph and the label “87.5%.”</span></span>

![De la fábrica al panel.](assets/extracting-insights-from-iot/factory-to-dashboard.png)

<span data-ttu-id="3e8cd-118">Usaremos como ejemplo el cálculo de un KPI sencillo: el uso de la máquina.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-118">For the purposes of illustration, we will use the calculation of a simple KPI: machine utilization.</span></span> <span data-ttu-id="3e8cd-119">El *uso de la máquina* es el porcentaje de tiempo que la máquina pasa realmente *produciendo* piezas.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-119">*Machine utilization* is the percentage of time the machine is actually *producing* parts.</span></span> <span data-ttu-id="3e8cd-120">Por ejemplo, si un turno consta de 8 horas, y la máquina produce piezas durante 7 de esas horas, el uso de la máquina en ese turno es el 87,5 % (7/8 x 100).</span><span class="sxs-lookup"><span data-stu-id="3e8cd-120">For example, if there are 8 hours in a shift, and the machine is producing parts for 7 of those hours, then the machine utilization for that shift is 87.5% (7/8 x 100).</span></span>

## <a name="approach"></a><span data-ttu-id="3e8cd-121">Enfoque</span><span class="sxs-lookup"><span data-stu-id="3e8cd-121">Approach</span></span>

<span data-ttu-id="3e8cd-122">Las aplicaciones de IoT tienen tres componentes: **cosas** (o dispositivos), el envío de datos o eventos que se usan para generar **información**, que a su vez se usan para generar **acciones** destinadas a mejorar un negocio o proceso.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-122">IoT applications have three components: **things** (or devices), sending data or events that are used to generate **insights**, which are used to generate **actions** to help improve a business or process.</span></span>

<span data-ttu-id="3e8cd-123">Los equipos de una planta de fabricación (cosas) envían varios tipos de datos mientras se encuentran en funcionamiento.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-123">The equipment in a manufacturing plant (things) sends various types of data as it operates.</span></span> <span data-ttu-id="3e8cd-124">Por ejemplo, una fresadora que envía datos de temperatura y velocidad de alimentación; esto se usa para evaluar si la máquina está funcionando o no —información—, lo cual sirve para optimizar la planta —acción—.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-124">An example is a milling machine sending feed rate and temperature data; this is used to evaluate whether the machine is running or not—an insight—which is used to optimize the plant—an action.</span></span> <span data-ttu-id="3e8cd-125">Vamos a ver cuáles son los pasos necesarios para extraer los datos, visualizarlos en un panel, extraer la nueva información y adoptar medidas adicionales.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-125">We will go through the steps to extract the data, visualize it in a dashboard, extract new insights, and take further actions.</span></span>
<span data-ttu-id="3e8cd-126">![Cosas a Información a Acciones.](assets/extracting-insights-from-iot/things-insights-actions.png)</span><span class="sxs-lookup"><span data-stu-id="3e8cd-126">![Things to Insights to Actions.](assets/extracting-insights-from-iot/things-insights-actions.png)</span></span>

<span data-ttu-id="3e8cd-127">Microsoft ha publicado una arquitectura de referencia detallada para aplicaciones de IoT que le guía a través de los distintos subsistemas y los enfoques recomendados para estos.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-127">Microsoft has published a high level reference architecture for IoT applications that walks through the various subsystems and the recommended approaches for those subsystems.</span></span>
<span data-ttu-id="3e8cd-128">Una aplicación de IoT se compone de los siguientes subsistemas:</span><span class="sxs-lookup"><span data-stu-id="3e8cd-128">An IoT application consists of the following subsystems:</span></span>

1. <span data-ttu-id="3e8cd-129">Dispositivos, o puertas de enlace perimetrales locales, que son un tipo específico de dispositivo que puede registrar con seguridad orígenes de mensajes (dispositivos) en la nube.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-129">Devices, or on-premises edge gateways, which are a specific kind of device that can securely register message sources (devices) with the cloud.</span></span> <span data-ttu-id="3e8cd-130">La puerta de enlace perimetral también puede transformar mensajes de un protocolo nativo a otro formato (por ejemplo, JSON).</span><span class="sxs-lookup"><span data-stu-id="3e8cd-130">The edge gateway may also transform messages from a native protocol to another format (such as JSON).</span></span>
2. <span data-ttu-id="3e8cd-131">Un servicio de puerta de enlace en la nube, o un concentrador (como [Azure IoT Hub](/azure/iot-hub/?WT.mc_id=iotinsightssoln-docs-ercenk) o [Azure Event Hubs](/azure/event-hubs/event-hubs-about?WT.mc_id=iotinsightssoln-docs-ercenk)), para ingerir datos de forma segura y ofrecer funcionalidades de administración de dispositivos.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-131">A cloud gateway service, or hub (such as [Azure IoT Hub](/azure/iot-hub/?WT.mc_id=iotinsightssoln-docs-ercenk) or [Azure Event Hubs](/azure/event-hubs/event-hubs-about?WT.mc_id=iotinsightssoln-docs-ercenk)), to securely ingest data and provide device management capabilities.</span></span> 
3. <span data-ttu-id="3e8cd-132">Procesadores de secuencias que consumen datos de streaming.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-132">Stream processors that consume streaming data.</span></span> <span data-ttu-id="3e8cd-133">Los procesadores también pueden integrarse con procesos empresariales y enviar los datos al almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-133">The processors may also integrate with business processes and place the data into storage.</span></span>
4. <span data-ttu-id="3e8cd-134">Una interfaz de usuario, con forma de panel, para visualizar datos de IoT y facilitar la administración de dispositivos.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-134">A user interface, in the form of a dashboard, to visualize IoT data and facilitate device management.</span></span>

![Arquitectura de la solución.](assets/extracting-insights-from-iot/architecture.png)

<span data-ttu-id="3e8cd-136">En este artículo, nos centramos en el proceso de extracción de la información.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-136">In this article, we focus on the process of extracting insights.</span></span> <span data-ttu-id="3e8cd-137">Estos son los pasos principales:</span><span class="sxs-lookup"><span data-stu-id="3e8cd-137">These are the major steps:</span></span>

1. <span data-ttu-id="3e8cd-138">Acceder a los datos y procesarlos en un flujo de datos.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-138">Access the data and process it into a data stream.</span></span>
2. <span data-ttu-id="3e8cd-139">Procesar y almacenar los datos.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-139">Process and store the data.</span></span>
3. <span data-ttu-id="3e8cd-140">Visualizar o presentar los datos.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-140">Visualize or present the data.</span></span> 

<span data-ttu-id="3e8cd-141">La ilustración siguiente es un diagrama que muestra el flujo de datos, desde el origen de datos hasta la conversión, ingesta, procesamiento y almacenamiento, presentación y, finalmente, acción.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-141">The figure below is a diagram that shows the flow of data, from data source, to convert, to ingestion, to process and store, to presentation, and finally action.</span></span>

![Flujo de datos: origen-ingesta-presentación-acción.](assets/extracting-insights-from-iot/data-flow.png)

## <a name="converting-the-data-to-a-stream"></a><span data-ttu-id="3e8cd-143">Conversión de los datos a una secuencia</span><span class="sxs-lookup"><span data-stu-id="3e8cd-143">Converting the data to a stream</span></span>

<span data-ttu-id="3e8cd-144">Los datos de IoT son datos de series temporales: valores de "cosas" que pueden ser más significativas durante un intervalo de tiempo especificado.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-144">IoT data is time-series data: values from “things” that can be more meaningful over a time span.</span></span> <span data-ttu-id="3e8cd-145">Los equipos de una planta de fabricación funcionan durante un periodo de tiempo, y en ese tiempo se producen eventos.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-145">Equipment on a plant floor operates through time, and events occur during that time.</span></span> <span data-ttu-id="3e8cd-146">Si los datos de la planta no se envían a un servicio de ingesta de datos, como [Azure IoT Hub](/azure/iot-hub/?WT.mc_id=iotinsightssoln-docs-ercenk), debemos sondear los datos periódicamente desde su almacén —por ejemplo, un sistema de ejecución de fabricación, o un punto de conexión HTTP— y enviar los datos a un servicio de ingesta.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-146">If the data on the plant floor is not sent to a data ingestion service, such as [Azure IoT Hub](/azure/iot-hub/?WT.mc_id=iotinsightssoln-docs-ercenk), we must poll for the data periodically from its store—for  example, a Manufacturing Execution System (MES), or an HTTP endpoint), and send the data to an ingestion service.</span></span>  
<span data-ttu-id="3e8cd-147">Para convertir los datos en una secuencia, normalmente hacemos lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="3e8cd-147">To convert data to a stream, we usually:</span></span>

1. <span data-ttu-id="3e8cd-148">Acceder al origen de los datos.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-148">Access the data source.</span></span>
2. <span data-ttu-id="3e8cd-149">Transformar y enriquecer los datos.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-149">Transform and enrich the data.</span></span>
3. <span data-ttu-id="3e8cd-150">Publicar los datos en un punto de conexión que pueda ingerir datos en streaming.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-150">Post the data to an endpoint that can ingest streaming data.</span></span>

<span data-ttu-id="3e8cd-151">No trataremos aquí en detalle el acceso al origen de datos, ya que depende de dónde residan los datos, y las variaciones son demasiado numerosas.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-151">We don’t cover the access to the data source in detail here, since access depends on where the data resides,  and the variations are too numerous.</span></span>

## <a name="transforming-and-enriching-the-data"></a><span data-ttu-id="3e8cd-152">Transformación y enriquecimiento de los datos</span><span class="sxs-lookup"><span data-stu-id="3e8cd-152">Transforming and enriching the data</span></span>

<span data-ttu-id="3e8cd-153">Los datos sin procesar normalmente deben someterse a operaciones de transformación para estandarizarlos y prepararlos para la ingesta.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-153">Raw data must usually undergo transformation operations to standardize it and prepare it for ingestion.</span></span>  <span data-ttu-id="3e8cd-154">Las transformaciones específicas variarán según el tipo de análisis utilizado.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-154">The specific transformations will vary depending on the type of analytics used.</span></span>  <span data-ttu-id="3e8cd-155">Algunos ejemplos habituales de transformaciones de datos son los datos de series temporales en las que es posible que falten las mediciones y deban ingresarse, o donde las escalas de tiempo entre diferentes máquinas deban racionalizarse.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-155">Some common examples of data transformations are time-series data where measurements may be missing and need to be inputted, or where the time scales across different machines needs to be rationalized.</span></span>  <span data-ttu-id="3e8cd-156">Nos gustaría disponer de registros de datos con marca de tiempo (si el origen lo contiene) y en pares de nombre-valor.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-156">We would like to have data records that are timestamped (if the source contains it) and in name-value pairs.</span></span> <span data-ttu-id="3e8cd-157">Normalmente, los datos vienen en un formato jerárquico y deben transformarse a una estructura plana.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-157">Commonly, the data comes in a hierarchical format, and must be transformed into a flat structure.</span></span>

<span data-ttu-id="3e8cd-158">La siguiente ilustración muestra una estructura jerárquica de datos con un perfil escalonado convertida en un formato de columna y fila normalizado (un bloque).</span><span class="sxs-lookup"><span data-stu-id="3e8cd-158">The figure below shows a hierarchical data structure with a jagged profile, converted to a standardized column and row format (a block).</span></span>

![Forma de datos de jerárquica a plana.](assets/extracting-insights-from-iot/hierarchy-to-flat.png)

<span data-ttu-id="3e8cd-160">Normalmente, los datos no son accesibles desde Internet.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-160">Usually, the data is not accessible from the internet.</span></span> <span data-ttu-id="3e8cd-161">Un patrón común es usar una puerta de enlace perimetral para insertar datos desde la planta de fabricación al punto de ingesta.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-161">A common pattern is to use an edge gateway to push data from the plant floor to the ingestion point.</span></span> <span data-ttu-id="3e8cd-162">[Azure IoT Edge](/azure/iot-edge?WT.mc_id=iotinsightssoln-docs-ercenk) es un servicio que se basa en IoT Hub.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-162">[Azure IoT Edge](/azure/iot-edge?WT.mc_id=iotinsightssoln-docs-ercenk) is a service that builds on top of IoT Hub.</span></span> <span data-ttu-id="3e8cd-163">Un dispositivo IoT Edge puede actuar como puerta de enlace para abarcar tres [modelos](/azure/iot-edge/iot-edge-as-gateway?WT.mc_id=iotinsightssoln-docs-ercenk): puerta de enlace transparente, traducción del protocolo y traducción de la identidad.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-163">An IoT Edge device can act as a gateway to cover three [patterns](/azure/iot-edge/iot-edge-as-gateway?WT.mc_id=iotinsightssoln-docs-ercenk): transparent gateway, protocol translation, and identity translation.</span></span>

<span data-ttu-id="3e8cd-164">Si los datos están disponibles externamente y son accesibles desde Internet, pueden utilizarse varios servicios de Azure para tener acceso a ellos, transformarlos y enriquecerlos.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-164">If the data is available externally and is accessible from internet, several Azure services can be used to access, transform, and enrich the data.</span></span> <span data-ttu-id="3e8cd-165">Entre estas opciones se encuentran las siguientes:</span><span class="sxs-lookup"><span data-stu-id="3e8cd-165">Among those options are:</span></span>

- <span data-ttu-id="3e8cd-166">Código personalizado implementado en varios servicios de proceso de Azure, como [App Service](/azure/app-service/?WT.mc_id=iotinsightssoln-docs-ercenk), [Azure Kubernetes Service](/azure/aks/?WT.mc_id=iotinsightssoln-docs-ercenk) (AKS), [Container Instances](/azure/container-instances/?WT.mc_id=iotinsightssoln-docs-ercenk) o [Service Fabric](/azure/service-fabric/service-fabric-overview?WT.mc_id=iotinsightssoln-docs-ercenk).</span><span class="sxs-lookup"><span data-stu-id="3e8cd-166">Custom code deployed in various Azure compute services, such as [App Service](/azure/app-service/?WT.mc_id=iotinsightssoln-docs-ercenk),  [Azure Kubernetes Service](/azure/aks/?WT.mc_id=iotinsightssoln-docs-ercenk) (AKS), [Container Instances](/azure/container-instances/?WT.mc_id=iotinsightssoln-docs-ercenk), or [Service Fabric](/azure/service-fabric/service-fabric-overview?WT.mc_id=iotinsightssoln-docs-ercenk).</span></span>
- [<span data-ttu-id="3e8cd-167">Azure Logic Apps</span><span class="sxs-lookup"><span data-stu-id="3e8cd-167">Azure Logic Apps</span></span>](/azure/logic-apps/?WT.mc_id=iotinsightssoln-docs-ercenk)
- [<span data-ttu-id="3e8cd-168">Canalizaciones y actividades en Azure Data Factory</span><span class="sxs-lookup"><span data-stu-id="3e8cd-168">Pipelines and activities in Azure Data Factory</span></span>](/azure/data-factory/copy-activity-overview/?WT.mc_id=iotinsightssoln-docs-ercenk)
- [<span data-ttu-id="3e8cd-169">Azure Functions</span><span class="sxs-lookup"><span data-stu-id="3e8cd-169">Azure Functions</span></span>](/azure/azure-functions/functions-overview)
- [<span data-ttu-id="3e8cd-170">BizTalk Services</span><span class="sxs-lookup"><span data-stu-id="3e8cd-170">BizTalk Services</span></span>](https://azure.microsoft.com/services/biztalk-services/)

<span data-ttu-id="3e8cd-171">Cada uno de los servicios anteriores tiene sus propias ventajas y costos, según el escenario.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-171">Each of the services above have their own benefits and costs, depending on the scenario.</span></span> <span data-ttu-id="3e8cd-172">Por ejemplo, Logic Apps proporciona un medio para [transformar documentos XML](/azure/logic-apps/logic-apps-enterprise-integration-transform?WT.mc_id=iotinsightssoln-docs-ercenk).</span><span class="sxs-lookup"><span data-stu-id="3e8cd-172">For example, Logic Apps provide a means for [transforming XML documents](/azure/logic-apps/logic-apps-enterprise-integration-transform?WT.mc_id=iotinsightssoln-docs-ercenk).</span></span> <span data-ttu-id="3e8cd-173">Sin embargo, los datos pueden ser un documento XML excesivamente complejo, por lo que puede no resultar práctico desarrollar un script XSLT de gran volumen para transformar los datos.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-173">However, the data can be an overly complex XML document, so it may not be practical to develop a large XSLT script to transform the data.</span></span> <span data-ttu-id="3e8cd-174">En este caso, es posible desarrollar una solución híbrida con varios microservicios desde diferentes servicios de Azure.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-174">In this case, one might develop a hybrid solution using multiple microservices from different Azure services.</span></span> <span data-ttu-id="3e8cd-175">Por ejemplo, un microservicio, implementado en Azure Logic Apps, puede sondear un punto de conexión HTTP, almacenar temporalmente el resultado sin formato y hacérselo llegar a otro microservicio.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-175">For example, a microservice, implemented in Azure Logic Apps, can poll an HTTP endpoint, store the raw result temporarily, and notify another microservice.</span></span> <span data-ttu-id="3e8cd-176">El otro microservicio —que transforma el mensaje— puede ser código personalizado hospedado en un [host de Azure Functions](https://github.com/Azure/azure-functions-host).</span><span class="sxs-lookup"><span data-stu-id="3e8cd-176">The other microservice—which transforms the message—can be custom code hosted on [Azure Functions Host](https://github.com/Azure/azure-functions-host).</span></span>  

![Sondeo de datos en HTTPS y procesamiento por Functions.](assets/extracting-insights-from-iot/poll-logic-process.png)

<span data-ttu-id="3e8cd-178">También puede optar por un flujo de trabajo organizado mediante Azure Data Factory donde una secuencia de actividades realiza las transformaciones.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-178">Alternatively, you may opt for a workflow orchestrated by Azure Data Factory where a sequence of activities performs the transformations.</span></span> <span data-ttu-id="3e8cd-179">Para obtener más detalles sobre el tipo de actividades disponibles, consulte [Canalizaciones y actividades en Azure Data Factory](/azure/data-factory/concepts-pipelines-activities).</span><span class="sxs-lookup"><span data-stu-id="3e8cd-179">For more details on the type of activities available, see [Pipelines and activities in Azure Data Factory](/azure/data-factory/concepts-pipelines-activities).</span></span>
<span data-ttu-id="3e8cd-180">Los mensajes pueden recibir la marca de tiempo en la recepción, o bien pueden contener una marca de tiempo para que podamos reconstruir la serie temporal de varios valores medidos.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-180">The messages can be timestamped at reception, or they may contain a timestamp to let us reconstruct the time series of several values measured.</span></span> <span data-ttu-id="3e8cd-181">Por lo tanto, una latencia de ingestión insignificante y un alto rendimiento son fundamentales para garantizar la integridad de la información y la oportunidad de las posibles respuestas.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-181">Hence, negligible ingestion latency and high throughput are fundamental to guarantee the integrity of information and timeliness of eventual responses.</span></span> <span data-ttu-id="3e8cd-182">Para minimizar la latencia, normalizamos las marcas de tiempo lo más cerca posible de la planta.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-182">To minimize the latency, we normalize the time stamps as close as possible to the plant.</span></span>

## <a name="ingesting-the-data-stream"></a><span data-ttu-id="3e8cd-183">Ingesta de flujo de datos</span><span class="sxs-lookup"><span data-stu-id="3e8cd-183">Ingesting the data stream</span></span>

<span data-ttu-id="3e8cd-184">Para analizar los datos como una secuencia, podemos realizar consultas sobre los datos basadas en ventanas temporales para identificar patrones y relaciones.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-184">To analyze the data as a stream, we can do queries on the data based on time windows to identify patterns and relationships.</span></span> <span data-ttu-id="3e8cd-185">Hay varios servicios en la plataforma Azure que pueden ingerir datos con un elevado rendimiento.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-185">There are various services on the Azure platform that can ingest data at high throughput.</span></span>
<span data-ttu-id="3e8cd-186">La elección entre los siguientes servicios depende de las necesidades del proyecto, como la administración de dispositivos, la compatibilidad con los protocolos, la escalabilidad, las preferencias del equipo del modelo de programación, etc. Por ejemplo, el equipo puede preferir el uso de Kafka debido a su experiencia, o a la necesidad de tener un agente de Kafka para la solución.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-186">Choosing between the services below depends on the needs of the project, such as device management, protocol support, scalability, team’s preference of programming model etc. For example, team may have a preference to use Kafka because of their experience, or the need to have a Kafka broker for the solution.</span></span> <span data-ttu-id="3e8cd-187">O bien, en otro caso, el proyecto puede necesitar que el sistema de ingesta de datos aproveche la [atestación de clave de TPM de IoT Hub Device Provisioning](/azure/iot-dps/?WT.mc_id=iotinsightssoln-docs-ercenk) para asegurar el acceso de los dispositivos al punto de ingesta.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-187">Or, for another case, the project may need the data ingestion system to take advantage of [IoT Hub Device Provisioning Service’s TPM Key Attestation](/azure/iot-dps/?WT.mc_id=iotinsightssoln-docs-ercenk) to secure the access of the devices to the ingestion point.</span></span>

- <span data-ttu-id="3e8cd-188">[Azure IoT Hub](/azure/iot-hub/?WT.mc_id=iotinsightssoln-docs-ercenk) es un centro de la comunicación bidireccional entre las aplicaciones de IoT y los dispositivos.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-188">[Azure IoT Hub](/azure/iot-hub/?WT.mc_id=iotinsightssoln-docs-ercenk) is a bi-directional communication hub between IoT applications and the devices.</span></span> <span data-ttu-id="3e8cd-189">Es un servicio escalable que proporciona completas soluciones de IoT por medio de comunicaciones seguras, enrutamiento de mensajes, integración con otros servicios de Azure y funciones de administración para controlar y configurar los dispositivos.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-189">It is a scalable service that enables full-featured IoT solutions by providing secure communications, message routing, integration with other Azure services, and management features to control and configure the devices.</span></span>

- <span data-ttu-id="3e8cd-190">[Azure Event Hubs](/azure/event-hubs/event-hubs-about?WT.mc_id=iotinsightssoln-docs-ercenk) es un servicio de solo ingesta a gran escala para recopilar datos de telemetría desde orígenes simultáneos con tasas de rendimiento extremadamente altas.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-190">[Azure Event Hubs](/azure/event-hubs/event-hubs-about?WT.mc_id=iotinsightssoln-docs-ercenk) is a high-scale ingestion-only service for collecting telemetry data from concurrent sources at exceedingly high throughput rates.</span></span>
- <span data-ttu-id="3e8cd-191">[Apache Kafka en HDInsight](/azure/hdinsight/kafka/apache-kafka-introduction?WT.mc_id=iotinsightssoln-docs-ercenk) es un servicio administrado que aloja [Apache Kafka](https://kafka.apache.org/).</span><span class="sxs-lookup"><span data-stu-id="3e8cd-191">[Apache Kafka on HDInsight](/azure/hdinsight/kafka/apache-kafka-introduction?WT.mc_id=iotinsightssoln-docs-ercenk) is a managed service that hosts [Apache Kafka](https://kafka.apache.org/).</span></span> <span data-ttu-id="3e8cd-192">Apache Kafka es una plataforma de streaming distribuida de código abierto que proporciona también la funcionalidad de agente de mensajes.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-192">Apache Kafka is an open-source distributed streaming platform that also provides message broker functionality.</span></span> <span data-ttu-id="3e8cd-193">El servicio hospedado tiene un Acuerdo de Nivel de Servicio (SLA) del 99,9 % sobre el tiempo de actividad de Kafka.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-193">The hosted service has a Service Level Agreement (SLA) of 99.9% on Kafka uptime.</span></span>

## <a name="processing-and-storing-the-data"></a><span data-ttu-id="3e8cd-194">Procesamiento y almacenamiento de datos</span><span class="sxs-lookup"><span data-stu-id="3e8cd-194">Processing and storing the data</span></span>

<span data-ttu-id="3e8cd-195">Las aplicaciones de IoT presentan algunos desafíos, ya que son sistemas impulsados por eventos que también se deben mantener y operan sobre datos históricos.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-195">The IoT applications introduce challenges, as they are event-driven systems, that also need to keep and operate on historical data.</span></span> <span data-ttu-id="3e8cd-196">Los datos entrantes son un tipo de datos adjuntos y potencialmente pueden crecer.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-196">The incoming data is an append type of data and can potentially grow large.</span></span> <span data-ttu-id="3e8cd-197">Es necesario mantener los datos durante períodos más prolongados, principalmente con estos fines: archivo, análisis de lotes y modelos de aprendizaje automático.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-197">There is a need to keep data for longer periods, primarily for these reasons: archive, batch analytics, and to build machine learning (ML) models.</span></span> <span data-ttu-id="3e8cd-198">Por otro lado, la secuencia de eventos es fundamental para el análisis casi en tiempo real a fin de detectar anomalías, reconocer patrones durante ventanas de tiempo consecutivas o desencadenar alertas, si los valores suben o bajan de un umbral establecido.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-198">On the other hand, the event stream is crucial for analyzing in near real-time to detect anomalies, recognize patterns over rolling time windows, or triggering alerts, if values go over or below a threshold.</span></span>
<span data-ttu-id="3e8cd-199">La arquitectura de referencia de IoT de Azure de Microsoft presenta un flujo de datos recomendado para mensajes y eventos del dispositivo a la nube en una solución de IoT con una arquitectura Lambda.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-199">Microsoft’s Azure IoT Reference Architecture presents a recommended data flow for device to cloud messages and events in an IoT solution using Lambda architecture.</span></span> <span data-ttu-id="3e8cd-200">La arquitectura Lambda permite el análisis de datos tanto casi en tiempo real como en streaming, así como datos archivados, lo que la convierte en la mejor opción para procesar los datos entrantes.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-200">The Lambda architecture enables the analysis of both near real-time, streaming data, as well as archived data, which makes it the best option for processing of the incoming data.</span></span>

## <a name="lambda-architecture"></a><span data-ttu-id="3e8cd-201">Arquitectura lambda</span><span class="sxs-lookup"><span data-stu-id="3e8cd-201">Lambda architecture</span></span>

<span data-ttu-id="3e8cd-202">La arquitectura lambda aborda este problema mediante la creación de dos rutas de acceso para el flujo de datos.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-202">The Lambda architecture addresses this problem by creating two paths for data flow.</span></span> <span data-ttu-id="3e8cd-203">Todos los datos que entran en el sistema atraviesan estas dos rutas de acceso:</span><span class="sxs-lookup"><span data-stu-id="3e8cd-203">All data coming into the system goes through these two paths:</span></span>

- <span data-ttu-id="3e8cd-204">Una capa por lotes (ruta de acceso inactiva) almacena todos los datos de entrada sin formato y realiza el procesamiento por lotes de los datos.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-204">A batch layer (cold path) stores all the incoming data in its raw form and performs batch processing on the data.</span></span> <span data-ttu-id="3e8cd-205">El resultado de este procesamiento se almacena en forma de vista por lotes.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-205">The result of this processing is stored as a batch view.</span></span> <span data-ttu-id="3e8cd-206">Es una canalización de procesamiento lento que ejecuta un análisis complejo, por ejemplo, combinar datos de varios orígenes y durante un período más largo (horas, días o más) y generar información nueva, como informes, modelos de aprendizaje automático, etc.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-206">It is a slow processing pipeline executing complex analysis, for example combining data from multiple sources and over a longer period (hours, days, or longer), and generating new information such as reports, machine learning models, etcetera.</span></span>
- <span data-ttu-id="3e8cd-207">Una capa de velocidad (ruta de acceso activa) analiza los datos en tiempo real.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-207">A speed layer (warm path) analyzes data in real time.</span></span> <span data-ttu-id="3e8cd-208">Este nivel está diseñado para que tenga una latencia baja, a costa de la precisión.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-208">This layer is designed for low latency, at the expense of accuracy.</span></span> <span data-ttu-id="3e8cd-209">Es una canalización de procesamiento más rápida que archiva y muestra los mensajes entrantes y analiza estos registros generando información crítica a corto plazo y acciones como las alarmas.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-209">It is a faster processing pipeline that archives and displays incoming messages, and analyzes these records generating short term critical information and actions such as alarms.</span></span>
- <span data-ttu-id="3e8cd-210">La capa por lotes se distribuye en una "capa de servicio", que responde a las consultas.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-210">The batch layer feeds into a “serving layer,” which responds to queries.</span></span> <span data-ttu-id="3e8cd-211">La capa por lotes indexa la vista por lotes para realizar consultas eficaces.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-211">The batch layer indexes the batch view for efficient querying.</span></span> <span data-ttu-id="3e8cd-212">La capa de velocidad actualiza el nivel de servicios con actualizaciones incrementales en función de los datos más recientes.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-212">The speed layer updates the serving layer with incremental updates based on the most recent data.</span></span>

<span data-ttu-id="3e8cd-213">La siguiente imagen muestra cinco bloques que representan las fases de transformación.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-213">The following image shows five blocks that represent stages of transformation.</span></span> <span data-ttu-id="3e8cd-214">El primer bloque es el flujo de datos, que se distribuye por la capa de velocidad y la capa por lotes en paralelo.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-214">The first block is the data stream, which feeds both the speed layer and batch layer in parallel.</span></span> <span data-ttu-id="3e8cd-215">Ambas capas se distribuyen por la capa de servicio. La capa de velocidad y la capa de servicio se envían al cliente de análisis.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-215">Both layers feed the serving layer, The speed layer and the serving layer both feed the analytics client.</span></span>
<span data-ttu-id="3e8cd-216">![Arquitectura lambda.](assets/extracting-insights-from-iot/lambda-schematic.png)</span><span class="sxs-lookup"><span data-stu-id="3e8cd-216">![Lambda architecture.](assets/extracting-insights-from-iot/lambda-schematic.png)</span></span>

 <span data-ttu-id="3e8cd-217">La plataforma Azure proporciona diversos servicios que se pueden usar para implementar la arquitectura.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-217">Azure platform provides various services that can be used for implementing the architecture.</span></span> <span data-ttu-id="3e8cd-218">El diagrama siguiente muestra cómo se pueden asignar esos servicios con tal fin.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-218">The following diagram shows how those services can be mapped to implement it.</span></span> <span data-ttu-id="3e8cd-219">La ilustración muestra las cinco fases de transformación, donde cada fase contiene tecnologías pertinentes de Azure.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-219">The figure shows the five stages of transformation, with each stage containing relevant Azure technologies.</span></span> <span data-ttu-id="3e8cd-220">Los cuadros de colores más oscuros representan la disponibilidad de varias opciones para realizar esas tareas.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-220">The darker colored boxes represent the availability of multiple options to perform those tasks.</span></span>

![Arquitectura lambda.](assets/extracting-insights-from-iot/lambda-architecture-all.png)

<span data-ttu-id="3e8cd-222">Las opciones para el servicio de ingesta de datos en la capa de velocidad se tratan en la sección anterior, "Ingesta de flujo de datos".</span><span class="sxs-lookup"><span data-stu-id="3e8cd-222">The options for the data ingestion service on the speed layer are covered in the previous section, “Ingesting the data stream.”</span></span>

<span data-ttu-id="3e8cd-223">[Apache Kafka en HDInsight](/azure/hdinsight/kafka/apache-kafka-introduction?WT.mc_id=iotinsightssoln-docs-ercenk) puede ser una opción de servicio para implementar la secuencia de datos tanto para el servicio de ingesta de datos como para el procesamiento de secuencias.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-223">[Apache Kafka on HDInsight](/azure/hdinsight/kafka/apache-kafka-introduction?WT.mc_id=iotinsightssoln-docs-ercenk) can be a service option to implement the data stream both for the data ingestion service and the stream processing.</span></span>

<span data-ttu-id="3e8cd-224">Recurra a [Azure Stream Analytics](/azure/stream-analytics?WT.mc_id=iotinsightssoln-docs-ercenk) (ASA) si usa Event Hubs para el servicio de ingesta de datos.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-224">Use [Azure Stream Analytics](/azure/stream-analytics?WT.mc_id=iotinsightssoln-docs-ercenk) (ASA) if you are using Event Hubs for the data ingestion service.</span></span> <span data-ttu-id="3e8cd-225">Azure Stream Analytics es un motor de procesamiento de eventos que permite examinar grandes volúmenes de streaming de datos procedentes de dispositivos.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-225">Azure Stream Analytics is an event-processing engine that allows you to examine high volumes of data streaming from devices.</span></span> <span data-ttu-id="3e8cd-226">Los datos de entrada pueden proceder de dispositivos, sensores, sitios web, fuentes de redes sociales, aplicaciones, etc.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-226">Incoming data can originate from devices, sensors, web sites, social media feeds, applications, and more.</span></span> <span data-ttu-id="3e8cd-227">También admite la extracción de información de flujos de datos y la identificación de patrones y relaciones.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-227">It also supports extracting information from data streams, identifying patterns, and relationships.</span></span>

<span data-ttu-id="3e8cd-228">Las consultas de Stream Analytics comienzan con un origen de datos en streaming que se ingieren en Azure Event Hub, Azure IoT Hub o desde un almacén de datos como Azure Blob Storage.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-228">Stream Analytics queries start with a source of streaming data that is ingested into Azure Event Hub, Azure IoT Hub or from a data store like Azure Blob Storage.</span></span> <span data-ttu-id="3e8cd-229">Para examinar los flujos, cree un trabajo de Stream Analytics que especifica el origen de entrada que transmite los datos.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-229">To examine a stream, create a Stream Analytics job that specifies the input source that streams data.</span></span> <span data-ttu-id="3e8cd-230">El trabajo también especifica una consulta de transformación que define cómo buscar datos, patrones o relaciones.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-230">The job also specifies a transformation query that defines how to look for data, patterns, or relationships.</span></span> <span data-ttu-id="3e8cd-231">Dicha consulta aprovecha un lenguaje de consulta similar a SQL que se utiliza para filtrar, ordenar, agregar y unir los datos de transmisión a lo largo de un período de tiempo.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-231">The transformation query leverages a SQL-like query language that is used to filter, sort, aggregate, and join streaming data over a period of time.</span></span>

## <a name="warm-path"></a><span data-ttu-id="3e8cd-232">Ruta de acceso activa</span><span class="sxs-lookup"><span data-stu-id="3e8cd-232">Warm Path</span></span>

<span data-ttu-id="3e8cd-233">El escenario de ejemplo de este documento es un KPI de uso de la máquina (que se presentó al principio de la guía).</span><span class="sxs-lookup"><span data-stu-id="3e8cd-233">The example scenario for this document is a machine utilization KPI (introduced at the beginning of the guide).</span></span> <span data-ttu-id="3e8cd-234">Podríamos optar por una interpretación sencilla de los datos y suponer que, si la máquina envía datos, es que se está utilizando.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-234">We could opt for a naive interpretation of the data and assume that if the machine is sending data then it is being utilized.</span></span> <span data-ttu-id="3e8cd-235">Sin embargo, la máquina podría estar enviando datos sin producir nada realmente (por ejemplo, podría estar inactiva o con tareas de mantenimiento).</span><span class="sxs-lookup"><span data-stu-id="3e8cd-235">However, the machine could be sending data while not really producing anything (for example, it could be idle, or being maintained).</span></span> <span data-ttu-id="3e8cd-236">Esto pone de manifiesto una dificultad con la que nos encontramos habitualmente al tratar de extraer información de los datos de IoT: los datos que se están buscando no están disponibles en los datos que se están obteniendo.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-236">This highlights a very common challenge when trying to extract insight out of IoT data: the data you are looking for is not available in the data you are getting.</span></span> <span data-ttu-id="3e8cd-237">Por lo tanto, en nuestro ejemplo, no estamos recibiendo datos que nos indiquen de forma clara e inequívoca si la máquina está produciendo.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-237">So, in our example, we are not getting data clearly and unequivocally telling us whether or not the machine is producing.</span></span>  <span data-ttu-id="3e8cd-238">Así pues, es necesario inferir el uso a partir de la combinación de los datos que obtenemos con otros orígenes de datos, y aplicar reglas para determinar si la máquina está produciendo.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-238">Therefore, we need to infer utilization by combining the data we are getting with other sources of data, and applying rules to determine of whether or not the machine is producing.</span></span> <span data-ttu-id="3e8cd-239">Además, estas reglas pueden cambiar entre las empresas porque es posible que cada una tenga interpretaciones diferentes de lo que significa "producir".</span><span class="sxs-lookup"><span data-stu-id="3e8cd-239">In addition, these rules may change from company to company since they may have different interpretations of what “producing” is.</span></span> <span data-ttu-id="3e8cd-240">La ruta de acceso activa consiste en analizar a medida que los datos fluyen a través del sistema.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-240">The warm path is all about analyzing as the data flows through the system.</span></span> <span data-ttu-id="3e8cd-241">Esta secuencia se procesa casi en tiempo real, se guarda en el almacenamiento intermedio y se envía a los clientes encargados del análisis.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-241">We process this stream in near-real time, save it to the warm storage, and push it to the analytics clients.</span></span>

<span data-ttu-id="3e8cd-242">Azure Event Hubs es una plataforma de streaming de macrodatos y un servicio de ingesta de eventos, capaz de recibir y procesar millones de eventos por segundo.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-242">Azure Event Hubs is a big data streaming platform and event ingestion service, capable of receiving and processing millions of events per second.</span></span> <span data-ttu-id="3e8cd-243">Event Hubs puede procesar y almacenar eventos, datos o telemetría generados por dispositivos y software distribuido.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-243">Event Hubs can process and store events, data, or telemetry produced by distributed software and devices.</span></span> <span data-ttu-id="3e8cd-244">Los datos enviados a un centro de eventos se pueden transformar y almacenar con cualquier proveedor de análisis en tiempo real o adaptadores de procesamiento por lotes y almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-244">Data sent to an event hub can be transformed and stored using any real-time analytics provider or batching/storage adapters.</span></span> <span data-ttu-id="3e8cd-245">Event Hubs es la herramienta idónea para el primer paso en la ruta de acceso activa para el flujo de datos.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-245">Event Hubs makes the perfect match for the first step in the warm path for the data flow.</span></span>

<span data-ttu-id="3e8cd-246">La siguiente ilustración muestra la fase de la capa de velocidad.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-246">The figure below shows the speed layer stage.</span></span> <span data-ttu-id="3e8cd-247">Consta de un centro de eventos, una instancia de Stream Analytics y un almacén de datos para el almacenamiento intermedio.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-247">It consists of an event hub, a Stream Analytics instance, and a data store for warm storage.</span></span>

![Arquitectura lambda: capa de velocidad resaltada.](assets/extracting-insights-from-iot/lambda-2.png)
  
<span data-ttu-id="3e8cd-249">La plataforma Azure proporciona muchas opciones para procesar los eventos en un centro de eventos, sin embargo, se recomienda Stream Analytics.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-249">The Azure platform provides many options for processing the events on an Event Hub, however, we recommend Stream Analytics.</span></span> <span data-ttu-id="3e8cd-250">Stream Analytics también puede insertar datos en el servicio Power BI para visualizar los datos transmitidos.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-250">Stream Analytics can also push data to the Power BI service to visualize streamed data.</span></span>

<span data-ttu-id="3e8cd-251">Stream Analytics puede ejecutar un análisis complejo a escala, por ejemplo, ventanas de saltos de tamaño constante, deslizantes o de salto; agregaciones de secuencias y combinaciones de orígenes de datos externos.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-251">Stream Analytics can execute complex analysis at scale, for example, tumbling/sliding/hopping windows, stream aggregations, and external data source joins.</span></span> <span data-ttu-id="3e8cd-252">Para un procesamiento aún más complejo, el rendimiento puede ampliarse aplicando cascadas a varias instancias de Event Hubs, trabajos de Stream Analytics y funciones de Azure, como se muestra en la ilustración siguiente.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-252">For even more complex processing, performance can be extended by cascading multiple instances of Event Hubs, Stream Analytics jobs, and Azure functions, as shown in the following figure.</span></span>

![Event Hubs para análisis en Power BI.](assets/extracting-insights-from-iot/event-hubs-to-power-bi.png)
  
<span data-ttu-id="3e8cd-254">El almacenamiento intermedio puede implementarse con diversos servicios en la plataforma Azure, como Azure SQL Database.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-254">Warm storage can be implemented with various services on the Azure platform, such as Azure SQL Database.</span></span> <span data-ttu-id="3e8cd-255">Se recomienda [Azure Cosmos DB](/azure/cosmos-db/introduction?WT.mc_id=iotinsightssoln-docs-ercenk).</span><span class="sxs-lookup"><span data-stu-id="3e8cd-255">We recommend [Azure Cosmos DB](/azure/cosmos-db/introduction?WT.mc_id=iotinsightssoln-docs-ercenk).</span></span> <span data-ttu-id="3e8cd-256">Se trata de la base de datos multimodelo de distribución global de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-256">It is Microsoft's globally distributed, multi-model database.</span></span> <span data-ttu-id="3e8cd-257">Es mejor para conjuntos de datos que pueden beneficiarse de interfaces flexibles, sin esquemas, de indexación automática y de consulta enriquecida.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-257">It is best for datasets that can benefit from flexible, schema-agnostic, automatic indexing, and rich query interfaces.</span></span> <span data-ttu-id="3e8cd-258">Cosmos DB permite la ejecución en varias regiones y la lectura/escritura y admite la conmutación por error manual además de la conmutación automática por error.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-258">Cosmos DB allows multi-region, read/write, and supports manual failover in addition to automatic failover.</span></span> <span data-ttu-id="3e8cd-259">Además, Cosmos DB permite al usuario establecer un período de vida (TTL) en sus datos, lo que hace que los datos antiguos expiren de manera automática.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-259">In addition, Cosmos DB allows the user to set a time-to-live (TTL) on their data, which makes expiring old data automatic.</span></span> <span data-ttu-id="3e8cd-260">Se recomienda usar la característica para controlar el tiempo que los registros permanecen en la base de datos, controlando así el tamaño de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-260">We recommend using the feature to control the time the records stay in the database, thus controlling the database size.</span></span>

<span data-ttu-id="3e8cd-261">Los precios para Cosmos DB se basan en el almacenamiento usado y las [unidades de solicitud](/azure/cosmos-db/request-units) aprovisionadas.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-261">Pricing for Cosmos DB is based on storage used and [request units](/azure/cosmos-db/request-units) provisioned.</span></span> <span data-ttu-id="3e8cd-262">Cosmos DB es mejor para escenarios que no requieren consultas que implican la agregación en grandes conjuntos de datos, ya que esas consultas exigen más unidades de solicitud que una consulta básica, como el último evento de un dispositivo.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-262">Cosmos DB is best for scenarios that do not require queries involving aggregation over large sets of data, as those queries require more request units than a basic query such as the last event for a device.</span></span>  

<span data-ttu-id="3e8cd-263">[Microsoft Power BI](/power-bi/power-bi-overview?WT.mc_id=iotinsightssoln-docs-ercenk) es una colección de servicios de software, aplicaciones y conectores que funcionan conjuntamente para convertir los orígenes de datos no relacionados en información coherente, interactiva y visualmente atractiva.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-263">[Microsoft Power BI](/power-bi/power-bi-overview?WT.mc_id=iotinsightssoln-docs-ercenk) is a collection of software services, apps, and connectors that work together to turn your unrelated sources of data into coherent, visually immersive, and interactive insights.</span></span> <span data-ttu-id="3e8cd-264">Power BI le ayuda a mantenerse al día con la información que realmente le importa.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-264">Power BI helps you stay up to date with the information that matters to you.</span></span> <span data-ttu-id="3e8cd-265">Puede usar el [streaming en tiempo real en Power BI](/power-bi/service-real-time-streaming?WT.mc_id=iotinsightssoln-docs-ercenk) para insertar datos en el servicio.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-265">You can utilize the [real-time streaming in Power BI](/power-bi/service-real-time-streaming?WT.mc_id=iotinsightssoln-docs-ercenk) to push data to the service.</span></span> <span data-ttu-id="3e8cd-266">Este flujo en tiempo real puede actuar como un origen de datos de transmisión en tiempo real para varias imágenes en el panel de Power BI.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-266">This real time stream can act as a real time streaming data source for various visuals on the Power BI dashboard.</span></span>

## <a name="cold-path"></a><span data-ttu-id="3e8cd-267">Ruta de acceso inactiva</span><span class="sxs-lookup"><span data-stu-id="3e8cd-267">Cold Path</span></span>

<span data-ttu-id="3e8cd-268">La ruta de acceso activa es donde se produce el procesamiento de la secuencia para descubrir patrones a lo largo del tiempo.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-268">The warm path is where the stream processing occurs to discover patterns over time.</span></span> <span data-ttu-id="3e8cd-269">Sin embargo, también nos gustaría calcular la utilización durante un período de tiempo en el pasado, con diferentes ejes y agregaciones, como máquina, línea, planta, pieza producida, etc.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-269">However we also would like to calculate the utilization over a period of time in the past, with different pivots, and aggregations, such as machine, line, plant, produced part etcetera.</span></span> <span data-ttu-id="3e8cd-270">Queremos combinar dichos resultados con los resultados de la ruta de acceso activa para presentar una vista unificada al usuario.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-270">We  want to merge those results with the warm path results to present a unified view to the user.</span></span> <span data-ttu-id="3e8cd-271">La ruta de acceso inactiva incluye la capa por lotes y las capas de servicio.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-271">The cold path includes the batch layer and the serving layers.</span></span> <span data-ttu-id="3e8cd-272">La combinación proporciona una vista del sistema a largo plazo.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-272">The combination provides a long-term view of the system.</span></span>

<span data-ttu-id="3e8cd-273">La ruta de acceso inactiva contiene el almacén de datos a largo plazo para la solución.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-273">The cold path contains the long-term data store for the solution.</span></span> <span data-ttu-id="3e8cd-274">También contiene la capa por lotes, que crea las vistas agregadas calculadas previamente para proporcionar respuestas rápidas a las consultas durante largos períodos de tiempo.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-274">It also contains the batch layer, which creates pre-calculated aggregate views to provide fast query responses over long periods of time.</span></span> <span data-ttu-id="3e8cd-275">Las opciones de tecnología disponibles para esta capa en la plataforma Azure son muy variadas.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-275">The technology options available for this layer on Azure platform is quite diverse.</span></span>

![Arquitectura lambda: capa por lotes resaltada.](assets/extracting-insights-from-iot/lambda-3.png)
  
<span data-ttu-id="3e8cd-277">[Azure Time Series Insights](/azure/time-series-insights/?WT.mc_id=iotinsightssoln-docs-ercenk) (TSI) es un servicio de análisis, almacenamiento y visualización de datos de series temporales.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-277">[Azure Time Series Insights](/azure/time-series-insights/?WT.mc_id=iotinsightssoln-docs-ercenk) (TSI) is an analytics, storage and visualization service for time series data.</span></span> <span data-ttu-id="3e8cd-278">Proporciona filtrado y agregación de tipo SQL, lo que reduce la necesidad de funciones definidas por el usuario.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-278">It provides SQL-like filtering and aggregation, alleviating the need for user-defined functions.</span></span> <span data-ttu-id="3e8cd-279">TSI puede recibir datos de Event Hubs, IoT Hub o Azure Blob Storage.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-279">TSI can receive data from Event Hubs, IoT Hub or Azure Blob storage.</span></span> <span data-ttu-id="3e8cd-280">Todos los datos en TSI se almacenan en memoria y en SSD, lo que garantiza que estén siempre listos para el análisis interactivo.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-280">All data in TSI is stored in-memory and in SSDs, which ensures that the data is always ready for interactive analytics.</span></span> <span data-ttu-id="3e8cd-281">Por ejemplo, una agregación típica en decenas de millones de eventos se devuelve en milisegundos.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-281">For example, a typical aggregation over tens of millions of events returns on the order of milliseconds.</span></span> <span data-ttu-id="3e8cd-282">También proporciona visualizaciones como superposiciones de serie temporales diferentes, comparaciones de paneles, vistas tabulares accesibles y mapas térmicos.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-282">It also provides visualizations such as overlays of different time series, dashboard comparisons, accessible tabular views, and heat maps.</span></span> <span data-ttu-id="3e8cd-283">Entre las principales características de TSI cabe mencionar las siguientes:</span><span class="sxs-lookup"><span data-stu-id="3e8cd-283">Key features of TSI include:</span></span>

- <span data-ttu-id="3e8cd-284">Servicios de visualización integrados para las soluciones que no requieren informar sobre los datos de inmediato.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-284">Built-in visualization services for solutions that do not need to report on data immediately.</span></span> <span data-ttu-id="3e8cd-285">TSI tiene una latencia aproximada para consultar registros de datos de entre 30 y 60 segundos.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-285">TSI has an approximate latency for querying data records of 30-60 seconds.</span></span> 
- <span data-ttu-id="3e8cd-286">La capacidad de consultar grandes conjuntos de datos.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-286">The ability to query large sets of data.</span></span>
- <span data-ttu-id="3e8cd-287">Cualquier número de usuarios puede llevar a cabo un número ilimitado de consultas sin ningún costo adicional.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-287">Any number of users can conduct an unlimited number of queries for no extra cost.</span></span>

<span data-ttu-id="3e8cd-288">TSI tiene una retención máxima de 400 días y un límite de almacenamiento máximo de 3 TB.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-288">TSI has a maximum retention of 400 days and a maximum storage limit of 3 TB.</span></span> <span data-ttu-id="3e8cd-289">Si necesita un período de retención más largo o más capacidad, use una base de datos de almacenamiento en frío (llevando los datos a TSI para consultar según sea necesario).</span><span class="sxs-lookup"><span data-stu-id="3e8cd-289">If you require a longer retention span, or more capacity, use a cold storage database (swapping data into TSI for querying as needed).</span></span>

<span data-ttu-id="3e8cd-290">Es seguro que el almacenamiento en frío de una aplicación crecerá con el tiempo.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-290">Cold storage for an IoT application is certain to grow large over time.</span></span> <span data-ttu-id="3e8cd-291">Aquí es donde los datos se almacenan a largo plazo y se agregan en las vistas de lotes para análisis.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-291">This is where data is stored for the long term and aggregated at the batch views for analytics.</span></span> <span data-ttu-id="3e8cd-292">Los datos para modelos de aprendizaje automático también se almacenan aquí.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-292">Data for ML models is also stored here.</span></span> <span data-ttu-id="3e8cd-293">Se recomienda [Azure Storage](/azure/storage/?WT.mc_id=iotinsightssoln-docs-ercenk) para el almacenamiento en frío.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-293">We recommend [Azure Storage](/azure/storage/?WT.mc_id=iotinsightssoln-docs-ercenk) for the cold storage.</span></span> <span data-ttu-id="3e8cd-294">Se trata de un servicio administrado por Microsoft que proporciona almacenamiento en la nube altamente disponible, seguro, duradero, escalable y redundante.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-294">It is a Microsoft-managed service providing cloud storage that is highly available, secure, durable, scalable, and redundant.</span></span> <span data-ttu-id="3e8cd-295">Azure Storage incluye Azure Blobs (objetos), Azure Data Lake Storage Gen2, Azure Files, Azure Queues y Azure Tables.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-295">Azure Storage includes Azure Blobs (objects), Azure Data Lake Storage Gen2, Azure Files, Azure Queues, and Azure Tables.</span></span> <span data-ttu-id="3e8cd-296">El almacenamiento en frío puede producirse en Blobs, Data Lake Storage Gen2 o Azure Tables, o una combinación de ellos.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-296">The cold storage can be either Blobs, Data Lake Storage Gen2, or Azure Tables., or a combination of those.</span></span>

<span data-ttu-id="3e8cd-297">[Azure Table Storage](/azure/cosmos-db/table-storage-overview?WT.mc_id=iotinsightssoln-docs-ercenk) es un servicio que almacena datos NoSQL estructurados en la nube y proporciona un almacén de claves y atributos con un diseño sin esquema.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-297">[Azure Table storage](/azure/cosmos-db/table-storage-overview?WT.mc_id=iotinsightssoln-docs-ercenk) is a service that stores structured NoSQL data in the cloud, providing a key/attribute store with a schemaless design.</span></span> <span data-ttu-id="3e8cd-298">Como Table Storage carece de esquema, es fácil adaptar los datos a medida que evolucionan las necesidades de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-298">Because Table Storage is schemaless, it is easy to adapt your data as the needs of your application evolve.</span></span> <span data-ttu-id="3e8cd-299">El acceso a los datos de Table Storage es rápido y rentable para muchos tipos de aplicaciones y, por lo general, el costo es normalmente menor que con el SQL tradicional para volúmenes parecidos de datos.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-299">Access to Table Storage data is fast and cost-effective for many types of applications and is typically lower in cost than traditional SQL for similar volumes of data.</span></span> <span data-ttu-id="3e8cd-300">Se usa una tabla para los ejemplos y otra tabla para los eventos que se reciben de los flujos de datos.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-300">We use one table for samples, and one table for events that are received from data streams.</span></span> <span data-ttu-id="3e8cd-301">El diseño de la clave de partición es un concepto especialmente importante; ambas tablas usan la hora de la marca de tiempo en el ejemplo o el evento.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-301">The design of the partition key is an especially important concept; both tables use the hour of the timestamp on the event or the sample.</span></span> <span data-ttu-id="3e8cd-302">Para obtener más información, consulte [Descripción del modelo de datos del servicio Tabla](/rest/api/storageservices/Understanding-the-Table-Service-Data-Model?WT.mc_id=iotinsightssoln-docs-ercenk).</span><span class="sxs-lookup"><span data-stu-id="3e8cd-302">For more information, see [Understanding the Table Service Data Model](/rest/api/storageservices/Understanding-the-Table-Service-Data-Model?WT.mc_id=iotinsightssoln-docs-ercenk).</span></span>

<span data-ttu-id="3e8cd-303">Para almacenar grandes cantidades de datos no estructurados, como JSON o documentos XML que contienen los datos no procesados recibidos por la aplicación IoT, [Blob storage](/azure/storage/blobs/storage-blobs-introduction?WT.mc_id=iotinsightssoln-docs-ercenk), [Azure Files](/azure/storage/files/storage-files-introduction?WT.mc_id=iotinsightssoln-docs-ercenk) o [Azure Data Lake Storage Gen2](/azure/storage/data-lake-storage/introduction?WT.mc_id=iotinsightssoln-docs-ercenk) son las mejores opciones.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-303">To store massive amounts of unstructured data, such as JSON, or XML documents containing the unprocessed data received by the IoT application, [Blob storage](/azure/storage/blobs/storage-blobs-introduction?WT.mc_id=iotinsightssoln-docs-ercenk), [Azure Files](/azure/storage/files/storage-files-introduction?WT.mc_id=iotinsightssoln-docs-ercenk), or [Azure Data Lake Storage Gen2](/azure/storage/data-lake-storage/introduction?WT.mc_id=iotinsightssoln-docs-ercenk) are the best options.</span></span>

<span data-ttu-id="3e8cd-304">Se puede acceder a Azure Blob Storage desde cualquier lugar del mundo a través de HTTP o HTTPS de forma segura.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-304">Azure Blob storage can be accessed from anywhere in the world via HTTP or HTTPS securely.</span></span> <span data-ttu-id="3e8cd-305">El acceso al almacenamiento de blobs debe autorizarse mediante uno de los [mecanismos de autorización](/azure/storage/common/storage-auth?toc=%2fazure%2fstorage%2fblobs%2ftoc.json?WT.mc_id=iotinsightssoln-docs-ercenk) utilizados por el servicio.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-305">Access to the blob storage must be authorized using one of the [authorization mechanisms](/azure/storage/common/storage-auth?toc=%2fazure%2fstorage%2fblobs%2ftoc.json?WT.mc_id=iotinsightssoln-docs-ercenk) used by the service.</span></span> <span data-ttu-id="3e8cd-306">El servicio proporciona múltiples [opciones](/azure/storage/common/storage-redundancy?toc=%2fazure%2fstorage%2fblobs%2ftoc.json?WT.mc_id=iotinsightssoln-docs-ercenk) de replicación: redundancia local, redundancia de zona, redundancia geográfica y redundancia geográfica con acceso de lectura.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-306">The service provides multiple replication [options](/azure/storage/common/storage-redundancy?toc=%2fazure%2fstorage%2fblobs%2ftoc.json?WT.mc_id=iotinsightssoln-docs-ercenk): locally redundant, zone-redundant, geo-redundant and read access geo-redundant.</span></span> <span data-ttu-id="3e8cd-307">También hay tres [niveles de acceso](/azure/storage/blobs/storage-blob-storage-tiers?WT.mc_id=iotinsightssoln-docs-ercenk) que permite que las soluciones sean más rentables.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-307">There are also three [access tiers](/azure/storage/blobs/storage-blob-storage-tiers?WT.mc_id=iotinsightssoln-docs-ercenk) that allows the most cost-effective solutions.</span></span>

<span data-ttu-id="3e8cd-308">Una vez que los datos están almacenados en frío, se deben crear vistas por lotes en la capa de servicio de la arquitectura Lambda.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-308">Once the data is in cold storage, batch views on the serving layer of the Lambda architecture need to be created.</span></span> <span data-ttu-id="3e8cd-309">[Azure Data Factory](/azure/data-factory/introduction?WT.mc_id=iotinsightssoln-docs-ercenk) es una excelente solución para crear las vistas de lote en la capa de servicio.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-309">[Azure Data Factory](/azure/data-factory/introduction?WT.mc_id=iotinsightssoln-docs-ercenk) is a great solution for creating the batch views on the serving layer.</span></span> <span data-ttu-id="3e8cd-310">Se trata de un servicio de integración de datos administrados basado en la nube que le permite crear flujos de trabajo orientados a datos en la nube a fin de coordinar y automatizar el movimiento y la transformación de datos.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-310">It is a cloud-based managed data integration service that allows you to create data-driven workflows in the cloud for orchestrating and automating data movement and data transformation.</span></span> <span data-ttu-id="3e8cd-311">Con Azure Data Factory, puede crear y programar [flujos de trabajo basados en datos](/azure/data-factory/concepts-pipelines-activities?WT.mc_id=iotinsightssoln-docs-ercenk) (llamados canalizaciones) que pueden ingerir datos de distintos almacenes de datos.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-311">Using Azure Data Factory, you can create and schedule [data-driven workflows](/azure/data-factory/concepts-pipelines-activities?WT.mc_id=iotinsightssoln-docs-ercenk) (called pipelines) that can ingest data from disparate data stores.</span></span> <span data-ttu-id="3e8cd-312">Los datos se pueden procesar y transformar mediante servicios como [Azure HDInsight Hadoop](/azure/hdinsight/?WT.mc_id=iotinsightssoln-docs-ercenk), [Spark](/azure/hdinsight/?WT.mc_id=iotinsightssoln-docs-ercenk) y [Azure Databricks](/azure/azure-databricks/?WT.mc_id=iotinsightssoln-docs-ercenk).</span><span class="sxs-lookup"><span data-stu-id="3e8cd-312">It can process and transform the data by using services such as [Azure HDInsight Hadoop](/azure/hdinsight/?WT.mc_id=iotinsightssoln-docs-ercenk), [Spark](/azure/hdinsight/?WT.mc_id=iotinsightssoln-docs-ercenk), and [Azure Databricks](/azure/azure-databricks/?WT.mc_id=iotinsightssoln-docs-ercenk).</span></span> <span data-ttu-id="3e8cd-313">Esto le permite crear modelos de aprendizaje automático y usarlos con los clientes de análisis.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-313">This allows you to build machine learning models and consume them with the analytics clients.</span></span>

<span data-ttu-id="3e8cd-314">Por ejemplo, como se muestra en la ilustración siguiente, las canalizaciones de Data Factory leen datos desde el almacén de datos maestros.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-314">For example, as shown in the following figure, Data Factory pipelines read data from the master data store.</span></span> <span data-ttu-id="3e8cd-315">Una canalización resume y agrega los datos para completar una instancia de Azure Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-315">One pipeline summarizes and aggregates the data to populate an instance of Azure Data Warehouse.</span></span> <span data-ttu-id="3e8cd-316">La canalización de Data Factory también contiene [actividades de bloc de notas de Azure Databricks](/azure/data-factory/transform-data-using-databricks-notebook?WT.mc_id=iotinsightssoln-docs-ercenk) que se usan para compilar modelos de aprendizaje automático.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-316">The Data Factory pipeline also and contains [Azure Databricks notebook activities](/azure/data-factory/transform-data-using-databricks-notebook?WT.mc_id=iotinsightssoln-docs-ercenk) that are used to build ML models.</span></span>

![Arquitectura lambda: capa por lotes resaltada.](assets/extracting-insights-from-iot/master-data-to-ml-analytics.png)
  
<span data-ttu-id="3e8cd-318">[Azure SQL Database](/azure/sql-database/?WT.mc_id=iotinsightssoln-docs-ercenk) o [Azure SQL Data Warehouse](/azure/sql-data-warehouse/sql-data-warehouse-overview-what-is?WT.mc_id=iotinsightssoln-docs-ercenk) son las mejores opciones para hospedar las vistas de lote.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-318">[Azure SQL Database](/azure/sql-database/?WT.mc_id=iotinsightssoln-docs-ercenk) or [Azure SQL Data Warehouse](/azure/sql-data-warehouse/sql-data-warehouse-overview-what-is?WT.mc_id=iotinsightssoln-docs-ercenk) are the best options for hosting the batch views.</span></span> <span data-ttu-id="3e8cd-319">Estos servicios pueden servir vistas precalculadas y agregadas en los datos maestros.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-319">These services can serve pre-calculated and aggregated views on the master data.</span></span> 

<span data-ttu-id="3e8cd-320">Azure SQL Database (SQL DB) es una base de datos como servicio relacional basada en la última versión estable del Motor de base de datos de Microsoft SQL Server.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-320">Azure SQL Database (SQL DB) is a relational database-as-a-service based on the latest version of Microsoft SQL Server Database Engine.</span></span> <span data-ttu-id="3e8cd-321">SQL DB es una base de datos de alto rendimiento, confiable y segura que puede usar para crear sitios web y aplicaciones controladas por datos.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-321">SQL DB is a high-performance, reliable, and secure database you can use to build data-driven applications and websites.</span></span> <span data-ttu-id="3e8cd-322">En tanto que servicio de Azure, no es necesario ocuparse de la administración de su infraestructura.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-322">As an Azure service,  there is no need to manage its infrastructure.</span></span> <span data-ttu-id="3e8cd-323">A medida que aumenta el volumen de datos, la solución puede comenzar a utilizar técnicas para agregar y almacenar datos para acelerar las consultas.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-323">As the data volume increases, the solution can start using techniques to aggregate and store data for speeding up the queries.</span></span> <span data-ttu-id="3e8cd-324">Las agregaciones calculadas previamente son una técnica bien conocida, especialmente para datos de solo anexar.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-324">Pre-calculating aggregations is a well-known technique, especially for append-only data.</span></span> <span data-ttu-id="3e8cd-325">También es útil para administrar los costos.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-325">It is also useful for managing costs.</span></span>

<span data-ttu-id="3e8cd-326">Azure SQL Data Warehouse ofrece muchas características adicionales que pueden ser útiles en algunos escenarios.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-326">Azure SQL Data Warehouse provides many additional features that can be useful in some scenarios.</span></span> <span data-ttu-id="3e8cd-327">Se trata de un almacenamiento de datos empresarial en la nube que aprovecha el procesamiento paralelo masivo para ejecutar rápidamente consultas complejas en petabytes de datos.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-327">It is a cloud-based enterprise data warehouse that leverages massively parallel processing  to quickly run complex queries across petabytes of data.</span></span> <span data-ttu-id="3e8cd-328">Si necesita mantener petabytes de datos y desea consultas que se ejecuten rápidamente, se recomienda SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-328">If you need to keep petabytes of data, and want to have queries running fast, we recommend SQL Data Warehouse.</span></span>

## <a name="visualizing-the-data"></a><span data-ttu-id="3e8cd-329">Visualización de los datos</span><span class="sxs-lookup"><span data-stu-id="3e8cd-329">Visualizing the data</span></span>

<span data-ttu-id="3e8cd-330">En esta capa, queremos fusionar las dos canalizaciones de datos (rutas de acceso activa e inactiva) para presentar una vista coherente de los datos.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-330">At this layer, we want to merge the two data pipelines (warm and cold paths) to present a cohesive view of the data.</span></span> <span data-ttu-id="3e8cd-331">En este ejemplo, se usan varias métricas para deducir el uso de la máquina en las rutas de acceso activa e inactiva.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-331">In this example, we used multiple metrics to deduce the utilization of the machine on both warm and cold paths.</span></span> <span data-ttu-id="3e8cd-332">En la fase de análisis, se proporcionan visualizaciones que combinan los datos de esas rutas de acceso.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-332">In the analytics stage, we provide visualizations that combine the data from those paths.</span></span>

![Arquitectura lambda: capa de los clientes de análisis resaltada.](assets/extracting-insights-from-iot/lambda-4.png)

<span data-ttu-id="3e8cd-334">[Microsoft Power BI ](/power-bi/?WT.mc_id=iotinsightssoln-docs-ercenk) y [Azure Time Series Insights](/azure/time-series-insights/?WT.mc_id=iotinsightssoln-docs-ercenk) proporcionan visualizaciones de datos listas para usar.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-334">[Microsoft Power BI](/power-bi/?WT.mc_id=iotinsightssoln-docs-ercenk) and [Azure Time Series Insights](/azure/time-series-insights/?WT.mc_id=iotinsightssoln-docs-ercenk) provide data visualizations out-of-the-box.</span></span> <span data-ttu-id="3e8cd-335">Power BI es una solución de análisis de negocios que le permite visualizar sus datos y compartir los resultados en su organización, o insertarlos en su aplicación o sitio web.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-335">Power BI is business analytics solution that lets you visualize your data and share insights across your organization, or embed them in your app or website.</span></span> <span data-ttu-id="3e8cd-336">[Power BI Desktop](https://powerbi.microsoft.com/desktop/?WT.mc_id=iotinsightssoln-docs-ercenk) es una herramienta eficaz y gratuita para el modelado de informes y sus orígenes de datos subyacentes.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-336">[Power BI Desktop](https://powerbi.microsoft.com/desktop/?WT.mc_id=iotinsightssoln-docs-ercenk) is a free and powerful tool for modelling reports and their underlying data sources.</span></span>  <span data-ttu-id="3e8cd-337">Las aplicaciones que incorporan visualizaciones de Power BI utilizan los informes creados por la herramienta de escritorio y hospedados en el servicio Power BI.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-337">The applications embedding Power BI visualizations use the reports authored by the desktop tool and hosted on the Power BI Service.</span></span>

<span data-ttu-id="3e8cd-338">Time Series Insights tiene un explorador de datos para visualizar y consultar los datos, así como API de consulta REST.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-338">Time Series Insights has a data explorer to visualize and query data as well as REST query APIs.</span></span> <span data-ttu-id="3e8cd-339">Además, expone una biblioteca de controles de JavaScript que permite incorporar gráficos con tecnología de TSI en aplicaciones personalizadas.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-339">Further, it exposes a JavaScript controls library that lets you embed TSI-powered charts into custom applications.</span></span> <span data-ttu-id="3e8cd-340">La siguiente es una vista de mapa térmico básica en el TSI para los datos entrantes que se aproxima a la utilización de las máquinas de la planta, examinando simplemente el número de muestras observado.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-340">The following is a basic heatmap view on the TSI for the incoming data that approximates the utilization of the machines on the shop floor, by simply looking at the number of samples observed.</span></span>

![Arquitectura lambda: capa por lotes resaltada.](assets/extracting-insights-from-iot/client-screen.png)

<span data-ttu-id="3e8cd-342">Si necesita una interfaz de usuario basada en explorador que agrega datos de varios orígenes, los servicios TSI y Power BI permiten insertar controles de visualización.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-342">If you require a browser-based user interface that aggregates data from multiple sources, both TSI and Power BI services allow embedding visualization controls.</span></span> <span data-ttu-id="3e8cd-343">Ambos ofrecen también diferentes API REST ([API REST de Power BI](/rest/api/power-bi/?WT.mc_id=iotinsightssoln-docs-ercenk), [API REST de TSI](/rest/api/time-series-insights/time-series-insights-reference-queryapi?WT.mc_id=iotinsightssoln-docs-ercenk)) y SDK de JavaScript ([SDK de JavaScript de Power BI](https://github.com/Microsoft/PowerBI-JavaScript?WT.mc_id=iotinsightssoln-docs-ercenk), [SDK DE JavaScript de TSI](/azure/time-series-insights/tutorial-explore-js-client-lib?WT.mc_id=iotinsightssoln-docs-ercenk)), lo cual permite muchas personalizaciones.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-343">Both also provide REST APIs ([Power BI Rest API](/rest/api/power-bi/?WT.mc_id=iotinsightssoln-docs-ercenk), [TSI REST API](/rest/api/time-series-insights/time-series-insights-reference-queryapi?WT.mc_id=iotinsightssoln-docs-ercenk)) and JavaScript SDKs ([Power BI JavaScript SDK](https://github.com/Microsoft/PowerBI-JavaScript?WT.mc_id=iotinsightssoln-docs-ercenk), [TSI JavaScript SDK](/azure/time-series-insights/tutorial-explore-js-client-lib?WT.mc_id=iotinsightssoln-docs-ercenk)) that allows extensive customizations.</span></span>

## <a name="next-steps"></a><span data-ttu-id="3e8cd-344">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="3e8cd-344">Next Steps</span></span>

<span data-ttu-id="3e8cd-345">Hemos tratado muchos conceptos y nos gustaría brindar al lector un conjunto de puntos de partida para aprender más y aplicar las técnicas adaptadas a sus propias necesidades.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-345">We covered a lot of concepts and would like to give the reader a set of starting points to learn more and apply the techniques to their own requirements.</span></span> <span data-ttu-id="3e8cd-346">Aquí ofrecemos algunos tutoriales que creemos que pueden ser útiles para este propósito.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-346">Here are some tutorials we believe can be useful for this purpose.</span></span>

- <span data-ttu-id="3e8cd-347">Conversión de los datos a una secuencia</span><span class="sxs-lookup"><span data-stu-id="3e8cd-347">Converting the data to a stream</span></span>
  - <span data-ttu-id="3e8cd-348">[Creating a Logic App running on a schedule](/azure/logic-apps/tutorial-build-schedule-recurring-logic-app-workflow?WT.mc_id=iotinsightssoln-docs-ercenk) (Creación de una aplicación de Logic Apps que se ejecuta según una programación)</span><span class="sxs-lookup"><span data-stu-id="3e8cd-348">[Creating a Logic App running on a schedule](/azure/logic-apps/tutorial-build-schedule-recurring-logic-app-workflow?WT.mc_id=iotinsightssoln-docs-ercenk)</span></span>
  - [<span data-ttu-id="3e8cd-349">Ejemplos de código de operaciones de datos para Azure Logic Apps</span><span class="sxs-lookup"><span data-stu-id="3e8cd-349">Code examples for data operations on Logic Apps</span></span>](/azure/logic-apps/logic-apps-data-operations-code-samples?WT.mc_id=iotinsightssoln-docs-ercenk)
  - <span data-ttu-id="3e8cd-350">La [ejecución de Azure Functions en un contenedor](/azure/azure-functions/functions-create-function-linux-custom-image?WT.mc_id=iotinsightssoln-docs-ercenk) para hospedar la función de Azure se trata en varios lugares.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-350">[Running Azure Functions in a container](/azure/azure-functions/functions-create-function-linux-custom-image?WT.mc_id=iotinsightssoln-docs-ercenk) to host your Azure Function is covered in multiple places.</span></span> <span data-ttu-id="3e8cd-351">Creación de una función en Linux con una imagen personalizada, ejecución de funciones en cualquier plataforma, imágenes de Docker para Azure Functions Runtime</span><span class="sxs-lookup"><span data-stu-id="3e8cd-351">Creating a function on Linux using a custom image, running functions on any platform, Docker images for Azure Functions Runtime</span></span>
  - [<span data-ttu-id="3e8cd-352">Uso de varios enlaces en Azure Functions</span><span class="sxs-lookup"><span data-stu-id="3e8cd-352">Using various bindings on Azure Functions</span></span>](/azure/azure-functions/functions-triggers-bindings?WT.mc_id=iotinsightssoln-docs-ercenk)

- <span data-ttu-id="3e8cd-353">Ruta de acceso activa</span><span class="sxs-lookup"><span data-stu-id="3e8cd-353">Hot path</span></span>
  - <span data-ttu-id="3e8cd-354">Tutoriales exhaustivos que demuestran el uso de Event Hubs, Azure Stream Analytics y Power BI.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-354">End-to-end tutorials demonstrating the use of Event Hubs, Azure Stream Analytics and Power BI.</span></span> <span data-ttu-id="3e8cd-355">Vea [Tutorial: Visualización de anomalías de datos](/azure/event-hubs/event-hubs-tutorial-visualize-anomalies?WT.mc_id=iotinsightssoln-docs-ercenk) de eventos en tiempo real enviados a Azure Event Hubs y [Creación de un trabajo de Stream Analytics para analizar los datos de llamadas de teléfono](/azure/stream-analytics/stream-analytics-manage-job?WT.mc_id=iotinsightssoln-docs-ercenk) y visualizar los resultados en un panel de Power BI.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-355">See [Tutorial: Visualize data anomalies](/azure/event-hubs/event-hubs-tutorial-visualize-anomalies?WT.mc_id=iotinsightssoln-docs-ercenk) in real-time events sent to Azure Event Hubs, and [Create a Stream Analytics job to analyze phone call data](/azure/stream-analytics/stream-analytics-manage-job?WT.mc_id=iotinsightssoln-docs-ercenk) and visualize results in a Power BI dashboard.</span></span>
  <span data-ttu-id="3e8cd-356">-[Uso de Azure Cosmos DB con .NET](/azure/cosmos-db/sql-api-get-started?WT.mc_id=iotinsightssoln-docs-ercenk)</span><span class="sxs-lookup"><span data-stu-id="3e8cd-356">-[Using Azure Cosmos DB with .NET](/azure/cosmos-db/sql-api-get-started?WT.mc_id=iotinsightssoln-docs-ercenk)</span></span>
- <span data-ttu-id="3e8cd-357">Ruta de acceso inactiva</span><span class="sxs-lookup"><span data-stu-id="3e8cd-357">Cold path</span></span>
  - <span data-ttu-id="3e8cd-358">[Transformación de datos en la nube mediante una actividad de Spark en Azure Data Factory](/azure/data-factory/tutorial-transform-data-spark-portal?WT.mc_id=iotinsightssoln-docs-ercenk)</span><span class="sxs-lookup"><span data-stu-id="3e8cd-358">[Transforming data in the cloud by using a Spark activity](/azure/data-factory/tutorial-transform-data-spark-portal?WT.mc_id=iotinsightssoln-docs-ercenk) in Azure Data Factory</span></span>
  - [<span data-ttu-id="3e8cd-359">Tutorial: Creación de un entorno de Azure Time Series Insights</span><span class="sxs-lookup"><span data-stu-id="3e8cd-359">Tutorial: Create an Azure Time Series Insights environment</span></span>](/azure/time-series-insights/tutorial-create-populate-tsi-environment?WT.mc_id=iotinsightssoln-docs-ercenk)
- <span data-ttu-id="3e8cd-360">Clientes de análisis</span><span class="sxs-lookup"><span data-stu-id="3e8cd-360">Analysis clients</span></span>
  - [<span data-ttu-id="3e8cd-361">Aprendizaje de Power BI</span><span class="sxs-lookup"><span data-stu-id="3e8cd-361">Learning Power BI</span></span>](/power-bi/guided-learning/?WT.mc_id=iotinsightssoln-docs-ercenk)
  - [<span data-ttu-id="3e8cd-362">Creación de una aplicación de página única de Time Series Insights</span><span class="sxs-lookup"><span data-stu-id="3e8cd-362">Creating a Time Series Insights SPA</span></span>](/azure/time-series-insights/tutorial-create-tsi-sample-spa?WT.mc_id=iotinsightssoln-docs-ercenk)
  - [<span data-ttu-id="3e8cd-363">Exploración de la biblioteca de cliente JavaScript de Time Series Insights</span><span class="sxs-lookup"><span data-stu-id="3e8cd-363">Exploring Time Series Insights Java Script client library</span></span>](/azure/time-series-insights/tutorial-explore-js-client-lib?WT.mc_id=iotinsightssoln-docs-ercenk)
  - <span data-ttu-id="3e8cd-364">Consulte la [demostración de TSI](https://insights.timeseries.azure.com/demo) y la [demostración de Power BI](https://microsoft.github.io/PowerBI-JavaScript/demo/v2-demo/index.html).</span><span class="sxs-lookup"><span data-stu-id="3e8cd-364">See the [TSI demo](https://insights.timeseries.azure.com/demo) and [Power BI demo](https://microsoft.github.io/PowerBI-JavaScript/demo/v2-demo/index.html).</span></span>

## <a name="appendix-pillars-of-software-quality-posq"></a><span data-ttu-id="3e8cd-365">Apéndice: Fundamentos de calidad del software (PoSQ)</span><span class="sxs-lookup"><span data-stu-id="3e8cd-365">Appendix: Pillars of software quality (PoSQ)</span></span>

<span data-ttu-id="3e8cd-366">Una buena aplicación en la nube se crea sobre estos cinco [fundamentos de calidad del software](/azure/architecture/guide/pillars?WT.mc_id=iotinsightssoln-docs-ercenk): Escalabilidad, disponibilidad, resistencia, administración y seguridad.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-366">A successful cloud application is built on these [pillars of software quality](/azure/architecture/guide/pillars?WT.mc_id=iotinsightssoln-docs-ercenk): Scalability, availability, resiliency, management, and security.</span></span> <span data-ttu-id="3e8cd-367">En esta sección, trataremos brevemente los fundamentos para cada componente según sea necesario.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-367">In this section, we will briefly cover those pillars for each component as necessary.</span></span> <span data-ttu-id="3e8cd-368">No trataremos la disponibilidad, la resistencia, la administración y DevOps, ya que se abordan principalmente en el nivel de implementación, y queremos mencionar que la plataforma Azure proporciona varios medios para lograrlos por medio de API, herramientas, diagnóstico y registro.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-368">We don’t cover availability, resiliency, management and DevOps, since they are mostly addressed at the implementation level, and we want to mention Azure platform provides extensive means for achieving those through APIs, tools, diagnostics and logging.</span></span> <span data-ttu-id="3e8cd-369">Además de los fundamentos mencionados, también se mencionará la rentabilidad.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-369">In addition to the mentioned pillars, we will also mention cost efficiency.</span></span>

<span data-ttu-id="3e8cd-370">Vamos a revisarlos rápidamente:</span><span class="sxs-lookup"><span data-stu-id="3e8cd-370">Let’s quickly review those pillars:</span></span>

- <span data-ttu-id="3e8cd-371">La **escalabilidad** es la capacidad de un sistema para controlar el aumento de la carga.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-371">**Scalability** is the ability of a system to handle increased load.</span></span> <span data-ttu-id="3e8cd-372">Una aplicación tiene fundamentalmente dos maneras de escalar.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-372">There are two main ways that an application can scale.</span></span> <span data-ttu-id="3e8cd-373">El escalado vertical implica el aumento de la capacidad de un recurso, por ejemplo mediante el uso de una máquina virtual de mayor tamaño.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-373">Vertical scaling (scaling up) means increasing the capacity of a resource, for example by using a larger VM size.</span></span> <span data-ttu-id="3e8cd-374">El escalado horizontal consiste en agregar nuevas instancias de un recurso, como máquinas virtuales o réplicas de base de datos.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-374">Horizontal scaling (scaling out) is adding new instances of a resource, such as VMs or database replicas.</span></span> <span data-ttu-id="3e8cd-375">El fundamento de la escalabilidad también incluye el rendimiento y la capacidad de controlar la carga.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-375">The scalability pillar also includes performance and the ability to handle load.</span></span>
- <span data-ttu-id="3e8cd-376">La **disponibilidad** es la proporción de tiempo que un sistema es funcional y está en funcionamiento.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-376">**Availability** is the proportion of time that the system is functional and working.</span></span> <span data-ttu-id="3e8cd-377">Normalmente se mide como porcentaje del tiempo de actividad.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-377">It is usually measured as a percentage of uptime.</span></span> <span data-ttu-id="3e8cd-378">Los errores de aplicación, los problemas de infraestructura y la carga del sistema pueden reducir la disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-378">Application errors, infrastructure problems, and system load can all reduce availability.</span></span> <span data-ttu-id="3e8cd-379">Los contratos de nivel de servicio para los servicios de Microsoft Azure están publicados y disponibles en [Contratos de nivel de servicio](https://azure.microsoft.com/support/legal/sla/?WT.mc_id=iotinsightssoln-docs-ercenk).</span><span class="sxs-lookup"><span data-stu-id="3e8cd-379">The service level agreements for Microsoft Azure services are published and available at [Service Level Agreements](https://azure.microsoft.com/support/legal/sla/?WT.mc_id=iotinsightssoln-docs-ercenk).</span></span> <span data-ttu-id="3e8cd-380">La disponibilidad es la única métrica significativa a nivel del sistema.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-380">Availability is the only meaningful metric at the system level.</span></span> <span data-ttu-id="3e8cd-381">Los componentes por separado contribuyen a la disponibilidad general del sistema.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-381">Separate components contribute to the overall availability of the system.</span></span>
- <span data-ttu-id="3e8cd-382">La **resistencia** es la capacidad de un sistema de recuperarse de los errores y seguir funcionando.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-382">**Resiliency** is the ability of the system to recover from failures and continue to function.</span></span> <span data-ttu-id="3e8cd-383">El objetivo de la resistencia es devolver la aplicación a un estado plenamente operativo después de un error.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-383">The goal of resiliency is to return the application to a fully functioning state after a failure occurs.</span></span> <span data-ttu-id="3e8cd-384">La resistencia está estrechamente relacionada con la disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-384">Resiliency is closely related to availability.</span></span>
- <span data-ttu-id="3e8cd-385">**DevOps y administración**.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-385">**Management and DevOps**.</span></span> <span data-ttu-id="3e8cd-386">Este fundamento abarca los procesos de las operaciones que mantienen a una aplicación ejecutándose en producción.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-386">This pillar covers the operations processes that keep an application running in production.</span></span> <span data-ttu-id="3e8cd-387">Las implementaciones deben ser confiables y predecibles.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-387">Deployments must be reliable and predictable.</span></span> <span data-ttu-id="3e8cd-388">Se deben automatizar para reducir la posibilidad de que ocurran errores humanos.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-388">They should be automated to reduce the chance of human error.</span></span> <span data-ttu-id="3e8cd-389">Deben ser un proceso rápido y rutinario, de manera que no ralenticen la publicación de nuevas características o correcciones de errores.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-389">They should be a fast and routine process, so they do not slow down the release of new features or bug fixes.</span></span> <span data-ttu-id="3e8cd-390">Igualmente importante, debe ser capaz de revertir o poner al día la aplicación rápidamente en caso de que tenga problemas.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-390">Equally important, you must be able to quickly roll back or roll forward if an update has problems.</span></span>
- <span data-ttu-id="3e8cd-391">La **seguridad** debe ser un punto de atención prioritario durante todo el ciclo de vida de una solución, desde su diseño e implementación hasta la implementación y las operaciones.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-391">**Security** should be a major focus point throughout the entire lifecycle of a solution, from design and implementation to deployment and operations.</span></span> <span data-ttu-id="3e8cd-392">La administración de identidades, la protección de su infraestructura, la seguridad de la aplicación, la autorización, la soberanía y el cifrado de datos y la auditoría son áreas amplias que deben abordarse.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-392">Identity management, protecting your infrastructure, application security, authorization, data sovereignty and encryption, auditing are all broad areas that need to be addressed.</span></span>

## <a name="posq-converting-the-data-to-a-stream"></a><span data-ttu-id="3e8cd-393">Fundamentos de calidad del software: Conversión de los datos a una secuencia</span><span class="sxs-lookup"><span data-stu-id="3e8cd-393">PoSQ: Converting the data to a stream</span></span>

<span data-ttu-id="3e8cd-394">**Escalabilidad**: la escalabilidad se puede enfocar desde dos perspectivas.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-394">**Scalability**: We can approach the scalability from two perspectives.</span></span> <span data-ttu-id="3e8cd-395">En primer lugar, desde la perspectiva del componente; en segundo lugar, desde la perspectiva del sistema que proporciona los datos de origen.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-395">First, from the perspective of the component, second, from the perspective of the system that provides the source data.</span></span>

<span data-ttu-id="3e8cd-396">Cada servicio de Azure proporciona opciones para el escalado vertical y horizontal.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-396">Each Azure service provides options for vertical and horizontal scaling.</span></span> <span data-ttu-id="3e8cd-397">Se recomienda encarecidamente tener en cuenta los requisitos de escalabilidad al diseñar la solución.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-397">We strongly recommend considering the scalability requirements while designing the solution.</span></span>

<span data-ttu-id="3e8cd-398">En cuanto a los sistemas que proporcionan los datos de origen, debemos tener cuidado de no sobrecargar el sistema y, básicamente, provocar un ataque de denegación de servicio (DoS) en este al consultarlo con demasiada frecuencia.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-398">As for the systems providing the source data, we need to be careful about not to overwhelm the system, and basically causing a denial of service (DoS) attack on the system, by querying it too frequently.</span></span> <span data-ttu-id="3e8cd-399">Si está sondeando el sistema, debe tener en cuenta que ajustar la frecuencia de sondeo tiene dos efectos: la granularidad de los datos (cuanto más a menudo consulte, más se acercará al tiempo real) y la carga creada en el sistema remoto.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-399">If you are polling the system, you should keep in mind that adjusting the polling frequency has two effects, the granularity of the data (the more often you query, the closer it gets to real-time) and the load created on the remote system.</span></span>

<span data-ttu-id="3e8cd-400">**Seguridad**: si se accede al sistema remoto mediante claves simétricas o asimétricas, se recomienda que los secretos se conserven en [Azure Key Vault](/azure/key-vault/?WT.mc_id=iotinsightssoln-docs-ercenk).</span><span class="sxs-lookup"><span data-stu-id="3e8cd-400">**Security**: If the remote system is accessed by symmetrical or asymmetrical keys, we recommend the secrets to be kept in [Azure Key Vault](/azure/key-vault/?WT.mc_id=iotinsightssoln-docs-ercenk).</span></span>

## <a name="posq-warm-path"></a><span data-ttu-id="3e8cd-401">Fundamentos de calidad del software: Ruta de acceso activa</span><span class="sxs-lookup"><span data-stu-id="3e8cd-401">PoSQ: Warm path</span></span>

<span data-ttu-id="3e8cd-402">**Escalabilidad**: si se utiliza Azure Event Hubs en el subsistema de ingesta, el mecanismo principal de escalabilidad lo constituyen las [unidades de procesamiento](/azure/event-hubs/event-hubs-features#throughput-units?WT.mc_id=iotinsightssoln-docs-ercenk).</span><span class="sxs-lookup"><span data-stu-id="3e8cd-402">**Scalability**: If Azure Event Hubs is the used in the ingestion subsystem, the main scalability mechanism is [throughput units](/azure/event-hubs/event-hubs-features#throughput-units?WT.mc_id=iotinsightssoln-docs-ercenk).</span></span> <span data-ttu-id="3e8cd-403">Event Hubs ofrece la capacidad de establecer las unidades de rendimiento estáticamente o a través de la [característica de inflado automático](/azure/event-hubs/event-hubs-auto-inflate?WT.mc_id=iotinsightssoln-docs-ercenk).</span><span class="sxs-lookup"><span data-stu-id="3e8cd-403">Event Hubs provide the capability of setting the throughput units statically, or through the [auto-inflate feature](/azure/event-hubs/event-hubs-auto-inflate?WT.mc_id=iotinsightssoln-docs-ercenk).</span></span>

<span data-ttu-id="3e8cd-404">Las [unidades de streaming](/azure/stream-analytics/stream-analytics-streaming-unit-consumption?WT.mc_id=iotinsightssoln-docs-ercenk) en Stream Analytics representan los recursos informáticos que se asignan para ejecutar un trabajo.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-404">[Streaming Units](/azure/stream-analytics/stream-analytics-streaming-unit-consumption?WT.mc_id=iotinsightssoln-docs-ercenk) (SUs) in Stream Analytics represent the computing resources that are allocated to execute a job.</span></span> <span data-ttu-id="3e8cd-405">Cuanto mayor sea el número de unidades de streaming, más recursos de CPU y memoria se asignarán al trabajo.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-405">The higher the number of SUs, the more CPU and memory resources are allocated for your job.</span></span> <span data-ttu-id="3e8cd-406">Esta función le permite centrarse en la lógica de consulta y abstrae la necesidad de administrar el hardware para ejecutar el trabajo de Stream Analytics de manera oportuna.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-406">This capacity lets you focus on the query logic and abstracts the need to manage the hardware to run your Stream Analytics job in a timely manner.</span></span> <span data-ttu-id="3e8cd-407">Además de las unidades de streaming, es crucial hacer un uso eficiente de estas a través de [la paralelización adecuada de las consultas ](/azure/stream-analytics/stream-analytics-scale-jobs?WT.mc_id=iotinsightssoln-docs-ercenk).</span><span class="sxs-lookup"><span data-stu-id="3e8cd-407">In addition to SUs, making efficient use of them through [properly parallelizing the queries](/azure/stream-analytics/stream-analytics-scale-jobs?WT.mc_id=iotinsightssoln-docs-ercenk) is crucial.</span></span>

<span data-ttu-id="3e8cd-408">Las implementaciones de Azure Cosmos DB se deben aprovisionar con los parámetros de rendimiento adecuados y el diseño de la partición pertinente.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-408">Azure Cosmos DB implementations need to be provisioned with the right throughput parameters and proper partitioning design.</span></span> <span data-ttu-id="3e8cd-409">El aprovisionamiento del rendimiento está disponible en el contenedor o en el nivel de la base de datos, y se expresa en [unidades de solicitud ](/azure/cosmos-db/request-units?WT.mc_id=iotinsightssoln-docs-ercenk).</span><span class="sxs-lookup"><span data-stu-id="3e8cd-409">Provisioning the throughput is available at the container or the data base level, and expressed in [Request Units](/azure/cosmos-db/request-units?WT.mc_id=iotinsightssoln-docs-ercenk) (RUs).</span></span> <span data-ttu-id="3e8cd-410">Cosmos DB proporciona una herramienta para calcular las unidades de solicitud.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-410">Cosmos DB provides a tool for estimating the RUs.</span></span> <span data-ttu-id="3e8cd-411">Además de aprovisionar el rendimiento, es fundamental [crear particiones eficientes de la base de datos](/azure/cosmos-db/partition-data?WT.mc_id=iotinsightssoln-docs-ercenk).</span><span class="sxs-lookup"><span data-stu-id="3e8cd-411">In addition to provisioning the throughput, [efficiently partitioning the database](/azure/cosmos-db/partition-data?WT.mc_id=iotinsightssoln-docs-ercenk) is key.</span></span>

<span data-ttu-id="3e8cd-412">**Seguridad**: el acceso a Azure Event Hubs mediante clientes se realiza a través de una combinación de tokens de firma de acceso compartido (SAS) y publicadores de eventos para la autenticación de clientes.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-412">**Security**: Access to Azure Event Hubs by clients is through a combination of Shared Access Signature (SAS) tokens and event publishers for client authentication.</span></span> <span data-ttu-id="3e8cd-413">La seguridad para aplicaciones de back-end sigue los mismos conceptos que los temas de Service Bus.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-413">The security for back-end applications follow the same concepts as the Service Bus topics.</span></span> <span data-ttu-id="3e8cd-414">Para obtener una descripción detallada del modelo de seguridad de Event Hubs, consulte [Introducción al modelo de autenticación y seguridad de Event Hubs](/azure/event-hubs/event-hubs-authentication-and-security-model-overview?WT.mc_id=iotinsightssoln-docs-ercenk).</span><span class="sxs-lookup"><span data-stu-id="3e8cd-414">A thorough description of the Event Hubs security model is in the [Event Hubs authentication and security model overview](/azure/event-hubs/event-hubs-authentication-and-security-model-overview?WT.mc_id=iotinsightssoln-docs-ercenk).</span></span>

<span data-ttu-id="3e8cd-415">La protección de las bases de datos de Cosmos DB proporciona acceso controlado a los datos y cifrado en reposo.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-415">Securing the Cosmos DB databases provides controlled access to the data, and encryption at rest.</span></span> <span data-ttu-id="3e8cd-416">Para más información, consulte [Seguridad de base de datos de Azure Cosmos DB](/azure/cosmos-db/database-security?WT.mc_id=iotinsightssoln-docs-ercenk).</span><span class="sxs-lookup"><span data-stu-id="3e8cd-416">For more information, see [Azure Cosmos DB database security](/azure/cosmos-db/database-security?WT.mc_id=iotinsightssoln-docs-ercenk).</span></span>

<span data-ttu-id="3e8cd-417">**Rentabilidad**: el precio de Event Hubs depende de la SKU (estándar o premium) y los millones de eventos recibidos, más las unidades de procesamiento.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-417">**Cost Efficiency**: The pricing of Event Hubs is a function of the SKU (standard or premium), and the millions of events received, plus throughput units.</span></span> <span data-ttu-id="3e8cd-418">La combinación óptima se puede lograr mediante la observación de la tasa de ingesta de datos que dictan los mensajes entrantes.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-418">The optimum combination can be achieved by looking at the data ingest rate that is dictated by the incoming messages.</span></span>

<span data-ttu-id="3e8cd-419">Al usar Cosmos DB, recomendamos observar el uso más óptimo del almacén a través de la utilización de unidades de solicitud.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-419">When using Cosmos DB, we recommend observing the most optimum use of the store through the RU utilization.</span></span> <span data-ttu-id="3e8cd-420">Cosmos DB también tiene una característica para controlar la retención de datos; como se mencionó anteriormente, recomendamos usarla para controlar el tiempo que permanecen los registros en la base de datos, controlando así su tamaño.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-420">Cosmos DB also has a feature for controlling data retention, as we stated earlier, we recommend using the feature to control the time the records stay in the database, thus controlling the database size.</span></span>

## <a name="posq-cold-path"></a><span data-ttu-id="3e8cd-421">Fundamentos de calidad del software: Ruta de acceso inactiva</span><span class="sxs-lookup"><span data-stu-id="3e8cd-421">PoSQ: Cold path</span></span>

<span data-ttu-id="3e8cd-422">**Escalabilidad**: Azure Time Series Insights (TSI) se escala con una métrica denominada "capacidad", que es un multiplicador aplicado a la velocidad de entrada, la capacidad de almacenamiento y el costo asociado con la SKU.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-422">**Scalability**: Azure Time Series Insights (TSI) is scaled with a metric named as “capacity” which is a multiplier applied to the ingress rate, storage capacity and the cost associated with the SKU.</span></span> 

<span data-ttu-id="3e8cd-423">Azure Time Series Insights tiene varias SKU que también repercuten directamente en su escalado vertical.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-423">Azure Time Series Insights has multiple SKUs that also have direct effect on its vertical scale.</span></span> <span data-ttu-id="3e8cd-424">Consulte el documento [Planee el entorno de Azure Time Series Insights](/azure/time-series-insights/time-series-insights-environment-planning?WT.mc_id=iotinsightssoln-docs-ercenk) para obtener más información sobre el escalado.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-424">See the document [Plan your Azure Time Series Insights environment](/azure/time-series-insights/time-series-insights-environment-planning?WT.mc_id=iotinsightssoln-docs-ercenk) for details on scale.</span></span> <span data-ttu-id="3e8cd-425">Al igual que muchos otros servicios de Azure, el TSI también está sujeto a limitación para evitar el problema del "vecino ruidoso".</span><span class="sxs-lookup"><span data-stu-id="3e8cd-425">Like many other Azure services, TSI is also subject to throttling to avoid the “noisy neighbor” problem.</span></span> <span data-ttu-id="3e8cd-426">Un "vecino ruidoso es una aplicación de un entorno compartido /azure/sql-database/sql-database-service-tiers-vcore?WT.mc_id=iotinsightssoln-docs-ercenk que monopoliza los recursos y priva de estos a los demás usuarios.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-426">A noisy neighbor is an application on a shared environment /azure/sql-database/sql-database-service-tiers-vcore?WT.mc_id=iotinsightssoln-docs-ercenk that monopolizes the resources and starves the other users.</span></span> <span data-ttu-id="3e8cd-427">Consulte la [documentación de TSI](/azure/time-series-insights/time-series-insights-environment-mitigate-latency?WT.mc_id=iotinsightssoln-docs-ercenk) para administrar la limitación.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-427">Please see the [TSI documentation](/azure/time-series-insights/time-series-insights-environment-mitigate-latency?WT.mc_id=iotinsightssoln-docs-ercenk) for managing the throttling.</span></span> 

<span data-ttu-id="3e8cd-428">Los objetivos de escalabilidad de las cuentas de almacenamiento se documentan en [Objetivos de escalabilidad y rendimiento de Azure Storage](/azure/storage/common/storage-scalability-targets?WT.mc_id=iotinsightssoln-docs-ercenk).</span><span class="sxs-lookup"><span data-stu-id="3e8cd-428">Scalability targets of storage accounts are documented in [Azure Storage Scalability and Performance Targets](/azure/storage/common/storage-scalability-targets?WT.mc_id=iotinsightssoln-docs-ercenk).</span></span> <span data-ttu-id="3e8cd-429">Una técnica común para almacenar datos superando la capacidad de una sola cuenta de almacenamiento consiste en crear particiones entre varias cuentas de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-429">A common technique for storing data beyond the capacity of a single storage account is partitioning across multiple storage accounts.</span></span>

<span data-ttu-id="3e8cd-430">Azure SQL Database presenta muchas opciones para administrar la escalabilidad, tanto vertical como horizontalmente, según el modelo de compra ([basado en DTU](/azure/sql-database/sql-database-service-tiers-dtu?WT.mc_id=iotinsightssoln-docs-ercenk) y el núcleo virtual).</span><span class="sxs-lookup"><span data-stu-id="3e8cd-430">Azure SQL Database has many options to manage scalability, both vertically and horizontally, depending on the purchasing model ([DTU based](/azure/sql-database/sql-database-service-tiers-dtu?WT.mc_id=iotinsightssoln-docs-ercenk) and vCore based).</span></span> <span data-ttu-id="3e8cd-431">Se recomienda emprender una mayor investigación para encontrar la mejor opción para una solución futura siguiendo la [documentación de SQL Database](/azure/sql-database/sql-database-scale-resources?WT.mc_id=iotinsightssoln-docs-ercenk) sobre el tema.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-431">We recommend further research to find the best option for a future solution using the [SQL Database documentation](/azure/sql-database/sql-database-scale-resources?WT.mc_id=iotinsightssoln-docs-ercenk) on the topic.</span></span>

<span data-ttu-id="3e8cd-432">**Seguridad**: los entornos TSI proporcionan [directivas de acceso](/azure/time-series-insights/time-series-insights-data-access?WT.mc_id=iotinsightssoln-docs-ercenk) para el acceso de administración y el acceso a datos independientes entre sí.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-432">**Security**: TSI environments provide [access policies](/azure/time-series-insights/time-series-insights-data-access?WT.mc_id=iotinsightssoln-docs-ercenk) for management access and data access independent of each other.</span></span> <span data-ttu-id="3e8cd-433">No hay una forma directa de agregar datos a un entorno TSI que no sean los orígenes de datos definidos.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-433">There is no direct way to add data to a TSI environment other than the defined data sources.</span></span> <span data-ttu-id="3e8cd-434">Las directivas de acceso de administración conceden permisos relacionados con la configuración del entorno.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-434">Management access policies grant permissions related to the configuration of the environment.</span></span> <span data-ttu-id="3e8cd-435">Las directivas de acceso a datos conceden permisos para emitir consultas de datos, manipular datos de referencia en el entorno y compartir consultas guardadas y perspectivas asociadas con el entorno.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-435">Data access policies grant permissions to issue data queries, manipulate reference data in the environment, and share saved queries and perspectives associated with the environment.</span></span>

<span data-ttu-id="3e8cd-436">El servicio Azure Data Factory proporciona varios métodos para proteger las credenciales del almacén de datos, ya sea en su almacén administrado o en Azure Key Vault.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-436">Azure Data Factory service provides multiple methods for securing data store credentials, either in its managed store, or in Azure Key Vault.</span></span> <span data-ttu-id="3e8cd-437">El cifrado de datos en tránsito depende de transporte del almacén de datos (por ejemplo, HTTPS o TLS).</span><span class="sxs-lookup"><span data-stu-id="3e8cd-437">In-transit data encryption depends on the data store’s transport (e.g. HTTPS or TLS).</span></span> <span data-ttu-id="3e8cd-438">El cifrado de datos en reposo también depende de los almacenes de datos.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-438">At-rest data encryption also depends on the data stores.</span></span> <span data-ttu-id="3e8cd-439">Consulte [Consideraciones de seguridad para el movimiento de datos en Azure Data Factory](/azure/data-factory/data-movement-security-considerations?WT.mc_id=iotinsightssoln-docs-ercenk) para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-439">See [Security considerations for data movement in Azure Data Factory](/azure/data-factory/data-movement-security-considerations?WT.mc_id=iotinsightssoln-docs-ercenk) for further details.</span></span>

<span data-ttu-id="3e8cd-440">SQL Database proporciona un amplio conjunto de características de seguridad para el acceso a datos, la supervisión y la auditoría, así como el cifrado de datos en reposo.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-440">SQL Database provides an extensive set of security features for data access, monitoring and auditing as well as encrypting data at rest.</span></span> <span data-ttu-id="3e8cd-441">Para obtener más información, consulte [Centro de seguridad para el Motor de base de datos de SQL Server y Azure SQL Database](/sql/relational-databases/security/security-center-for-sql-server-database-engine-and-azure-sql-database?WT.mc_id=iotinsightssoln-docs-ercenk).</span><span class="sxs-lookup"><span data-stu-id="3e8cd-441">For details, see [Security Center for SQL Server Database Engine and Azure SQL Database](/sql/relational-databases/security/security-center-for-sql-server-database-engine-and-azure-sql-database?WT.mc_id=iotinsightssoln-docs-ercenk).</span></span>

<span data-ttu-id="3e8cd-442">**Rentabilidad**: en el centro de cualquier solución de análisis se encuentra el almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-442">**Cost Efficiency**: At the heart of any analytics solution is the storage.</span></span> <span data-ttu-id="3e8cd-443">Los motores de análisis necesitan velocidad, eficiencia, seguridad y rendimiento para procesar volúmenes de datos en tiempos razonables.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-443">Analytics engines need speed, efficiency, security, and throughput for processing volumes of data in reasonable times.</span></span> <span data-ttu-id="3e8cd-444">El diseño de mecanismos para aprovechar al máximo la plataforma subyacente, mediante la agregación y el resumen de datos, y el uso eficiente de los almacenes políglotas son los medios para administrar los costos de manera eficiente.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-444">Devising mechanisms to make best of use of the underlying platform, by aggregating and summarizing data, and efficiently using polyglot stores are the means for efficiently managing costs.</span></span> <span data-ttu-id="3e8cd-445">Como Azure es una plataforma en la nube, existen métodos para retirar, reponer y cambiar el tamaño de los recursos mediante programación.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-445">As Azure is a cloud platform, there are methods to programmatically decommission, recommission, and resize resources.</span></span> <span data-ttu-id="3e8cd-446">Por ejemplo, la [operación de creación o actualización](/rest/api/sql/databases/createorupdate?WT.mc_id=iotinsightssoln-docs-ercenk) proporciona una manera de cambiar el tamaño de la base de datos de Azure SQL Database.</span><span class="sxs-lookup"><span data-stu-id="3e8cd-446">For example, the [Create or Update operation](/rest/api/sql/databases/createorupdate?WT.mc_id=iotinsightssoln-docs-ercenk) provides a way to change the database size of Azure SQL Database.</span></span>