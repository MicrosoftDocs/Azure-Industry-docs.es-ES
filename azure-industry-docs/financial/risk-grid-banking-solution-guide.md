---
title: Guía de soluciones de la computación en malla de riesgos en la banca
author: dstarr
ms.author: dastarr
ms.date: 5/2/2018
ms.topic: article
ms.service: industry
description: Presenta los aspectos técnicos de la implementación de Azure Batch para la computación en malla de riesgos en la banca.
ms.openlocfilehash: d3470a2e546e73f4c0f1478413ca4b1af7433a66
ms.sourcegitcommit: 76f2862adbec59311b5888e043a120f89dc862af
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 11/03/2018
ms.locfileid: "51654302"
---
# <a name="risk-grid-computing-in-banking-solution-guide"></a><span data-ttu-id="79e0a-103">Guía de soluciones de la computación en malla de riesgos en la banca</span><span class="sxs-lookup"><span data-stu-id="79e0a-103">Risk Grid Computing in Banking Solution Guide</span></span>

<span data-ttu-id="79e0a-104">En este artículo se proporciona una introducción técnica del uso de Microsoft Azure para respaldar y mejorar la computación en malla de riesgos en la banca, incluidos los sistemas recomendados y las arquitecturas de alto nivel.</span><span class="sxs-lookup"><span data-stu-id="79e0a-104">This article provides a technical overview of using Microsoft Azure to support and enhance risk grid computing in banking, including recommended systems and high-level architectures.</span></span>

<span data-ttu-id="79e0a-105">Este documento está pensado para arquitectos de soluciones y, en algunos casos, para los responsables de las tomas de decisiones técnicas, que quieran profundizar en las soluciones propuestas para el cálculo de riesgos.</span><span class="sxs-lookup"><span data-stu-id="79e0a-105">This document is intended for Solution Architects, and in some cases Technical Decision Makers, who want a deep dive on proposed solutions for risk computing.</span></span>

## <a name="introduction"></a><span data-ttu-id="79e0a-106">Introducción</span><span class="sxs-lookup"><span data-stu-id="79e0a-106">Introduction</span></span>

<span data-ttu-id="79e0a-107">Los modelos de análisis de riesgos financieros normalmente se procesan como trabajos por lotes, con cargas de proceso pesadas que generan una gran demanda de capacidad de cálculo, acceso a datos y análisis.</span><span class="sxs-lookup"><span data-stu-id="79e0a-107">Financial risk analysis models are typically processed as batch jobs, with heavy compute loads generating high demand for computing power, data access, and analysis.</span></span> <span data-ttu-id="79e0a-108">La demanda de cálculos de computación en malla de riesgos a menudo crece con el tiempo y, por consiguiente, la necesidad de recursos de proceso aumenta.</span><span class="sxs-lookup"><span data-stu-id="79e0a-108">Demand for risk grid computing calculations often grows over time, and correspondingly the need for compute resources increases.</span></span>

<span data-ttu-id="79e0a-109">La amplia gama de productos disponibles y los servicios de Azure significa que puede haber más de una solución para la mayoría de los problemas.</span><span class="sxs-lookup"><span data-stu-id="79e0a-109">The broad range of available products and services in Azure means there can be more than one solution to most problems.</span></span> <span data-ttu-id="79e0a-110">En este artículo se proporciona información general de las tecnologías, los patrones y las prácticas que se consideran más eficaces para una solución de computación en malla de riesgos en la banca utilizando [Microsoft Azure Batch](/azure/batch/batch-dotnet-get-started?WT.mc_id=gridbanksg-docs-dastarr).</span><span class="sxs-lookup"><span data-stu-id="79e0a-110">This article provides an overview of the technologies, patterns and practices gauged to be most effective for a risk grid computing solution in banking using [Microsoft Azure Batch](/azure/batch/batch-dotnet-get-started?WT.mc_id=gridbanksg-docs-dastarr).</span></span>

<span data-ttu-id="79e0a-111">Azure Batch es un servicio gratuito que proporciona soluciones rentables y seguras tanto para la infraestructura como para las distintas fases del procesamiento por lotes que se utiliza normalmente con modelos de computación en malla de riesgos.</span><span class="sxs-lookup"><span data-stu-id="79e0a-111">Azure Batch is a free service providing cost-effective and secure solutions for both the infrastructure and the various stages of batch processing typically used with risk grid computing models.</span></span> <span data-ttu-id="79e0a-112">Azure Batch puede aumentar, ampliar o incluso reemplazar las inversiones de recursos de proceso locales actuales mediante redes híbridas o moviendo todo el proceso de Batch a Azure.</span><span class="sxs-lookup"><span data-stu-id="79e0a-112">Azure Batch can augment, extend, or even replace current on-premises compute resource investments using hybrid networks or by moving the entire Batch process into Azure.</span></span>  <span data-ttu-id="79e0a-113">Los datos pueden desplazarse hacia arriba y hacia abajo desde la nube o permanecer en el entorno local, mientras que los nodos de proceso pueden procesar otros datos en un modelo de ampliación a la nube cuando los recursos locales se agotan.</span><span class="sxs-lookup"><span data-stu-id="79e0a-113">Data can traverse up and down from the cloud or stay on-premises while other data can be processed by compute nodes in a burst-to-cloud model when on-premises resources run low.</span></span>

## <a name="anatomy-of-a-batch-run"></a><span data-ttu-id="79e0a-114">Anatomía de una ejecución de Batch</span><span class="sxs-lookup"><span data-stu-id="79e0a-114">Anatomy of a Batch run</span></span>

<span data-ttu-id="79e0a-115">Normalmente hay al menos dos aplicaciones implicadas en una ejecución de Batch.</span><span class="sxs-lookup"><span data-stu-id="79e0a-115">There are typically at least two applications involved in a Batch run.</span></span> <span data-ttu-id="79e0a-116">Una aplicación, que normalmente se ejecuta en un “nodo principal”, envía el trabajo al grupo y a veces organiza los nodos de proceso.</span><span class="sxs-lookup"><span data-stu-id="79e0a-116">One application, typically run on a “head node,” submits the job to the pool and sometimes orchestrates the compute nodes.</span></span> <span data-ttu-id="79e0a-117">La orquestación también se puede configurar a través de Azure Portal.</span><span class="sxs-lookup"><span data-stu-id="79e0a-117">The orchestration can also be configured via the Azure portal.</span></span> <span data-ttu-id="79e0a-118">Los nodos de proceso ejecutan la otra aplicación como una tarea (consulte la figura 1).</span><span class="sxs-lookup"><span data-stu-id="79e0a-118">The other application is run by the compute nodes as a task (see Figure 1).</span></span>

<span data-ttu-id="79e0a-119">La aplicación de nodos de proceso realiza la tarea de procesamiento en paralelo de archivos de modelado de riesgos.</span><span class="sxs-lookup"><span data-stu-id="79e0a-119">The compute node application performs the task of parallel processing risk modeling files.</span></span> <span data-ttu-id="79e0a-120">Puede haber más de una aplicación instalada y ejecutada en los nodos de proceso.</span><span class="sxs-lookup"><span data-stu-id="79e0a-120">There can be more than one application installed and run on the compute nodes.</span></span>

<span data-ttu-id="79e0a-121">Estas aplicaciones se pueden cargar a través de la [API de Batch](/azure/batch/batch-apis-tools?WT.mc_id=gridbanksg-docs-dastarr), directamente a través de Azure Portal o a través de los [comandos de la CLI de Azure para Batch](/azure/batch/cli-samples?WT.mc_id=gridbanksg-docs-dastarr).</span><span class="sxs-lookup"><span data-stu-id="79e0a-121">These applications can be uploaded via the [Batch API](/azure/batch/batch-apis-tools?WT.mc_id=gridbanksg-docs-dastarr), directly through the Azure Portal, or via the [Azure CLI commands for Batch](/azure/batch/cli-samples?WT.mc_id=gridbanksg-docs-dastarr).</span></span>

![Computación en malla de Azure Batch](./assets/risk-grid-compute-assets/05-batch-grid-computing.png)

<span data-ttu-id="79e0a-123">**Figura 1:** Computación en malla de Azure Batch</span><span class="sxs-lookup"><span data-stu-id="79e0a-123">**Figure 1:** Azure Batch grid computing</span></span>

<span data-ttu-id="79e0a-124">Una ejecución de Batch consta de varios elementos lógicos.</span><span class="sxs-lookup"><span data-stu-id="79e0a-124">A Batch run consists of several logical elements.</span></span> <span data-ttu-id="79e0a-125">En la figura 2 se muestra el modelo lógico de un trabajo por lotes.</span><span class="sxs-lookup"><span data-stu-id="79e0a-125">Figure 2 shows the logical model of a batch job.</span></span> <span data-ttu-id="79e0a-126">Un grupo es un contenedor de las máquinas virtuales implicadas en la ejecución de Batch y aprovisiona las máquinas virtuales de nodos de proceso.</span><span class="sxs-lookup"><span data-stu-id="79e0a-126">A pool is a container for the VMs involved in the Batch run and provisions the compute node VMs.</span></span> <span data-ttu-id="79e0a-127">Un grupo también es el contenedor de las aplicaciones instaladas en los nodos de proceso.</span><span class="sxs-lookup"><span data-stu-id="79e0a-127">A pool is also the container for the applications installed on the compute nodes.</span></span> <span data-ttu-id="79e0a-128">Los trabajos se crean y ejecutan dentro del grupo.</span><span class="sxs-lookup"><span data-stu-id="79e0a-128">Jobs are created and run within the pool.</span></span> <span data-ttu-id="79e0a-129">Los trabajos ejecutan las tareas.</span><span class="sxs-lookup"><span data-stu-id="79e0a-129">Tasks are executed by the jobs.</span></span> <span data-ttu-id="79e0a-130">Las tareas son una ejecución de la aplicación de trabajo y se invocan mediante una instrucción de línea de comandos.</span><span class="sxs-lookup"><span data-stu-id="79e0a-130">Tasks are a run of the worker application and are invoked by a command line instruction.</span></span>

<span data-ttu-id="79e0a-131">La aplicación de trabajo se instala en el nodo de proceso cuando se crea.</span><span class="sxs-lookup"><span data-stu-id="79e0a-131">The worker application is installed to the compute node when it is created.</span></span>

![Grupo, trabajos y tareas](./assets/risk-grid-compute-assets/06-pool-job-logical-model.png)

<span data-ttu-id="79e0a-133">**Figura 2:** Modelo de concepto de Batch lógico</span><span class="sxs-lookup"><span data-stu-id="79e0a-133">**Figure 2:** Logical Batch concept model</span></span>

<span data-ttu-id="79e0a-134">Cuando se ejecuta el trabajo, el grupo aprovisiona todas las máquinas virtuales de trabajo necesarias e instala las aplicaciones de trabajo.</span><span class="sxs-lookup"><span data-stu-id="79e0a-134">When the job executes, the pool provisions any worker VMs needed and installs the worker applications.</span></span> <span data-ttu-id="79e0a-135">El trabajo asigna tareas a los nodos de proceso que, a su vez, ejecutan una instrucción de línea de comandos que normalmente llama a las aplicaciones instaladas o scripts.</span><span class="sxs-lookup"><span data-stu-id="79e0a-135">The job assigns tasks to those compute nodes, which in turn run a command line instruction which typically calls the installed applications or scripts.</span></span>
<span data-ttu-id="79e0a-136">Con Batch normalmente sigue un patrón de prototipo, que se describe a continuación:</span><span class="sxs-lookup"><span data-stu-id="79e0a-136">Using Batch typically follows a prototypical pattern, described as follows:</span></span>

1. <span data-ttu-id="79e0a-137">Crear un grupo de recursos que contiene recursos de Batch.</span><span class="sxs-lookup"><span data-stu-id="79e0a-137">Create a resource group to contain the Batch assets.</span></span>
2. <span data-ttu-id="79e0a-138">Dentro del grupo de recursos, crear una cuenta de Batch.</span><span class="sxs-lookup"><span data-stu-id="79e0a-138">Within the resource group, create a Batch account.</span></span>
3. <span data-ttu-id="79e0a-139">Crear una cuenta de almacenamiento vinculada.</span><span class="sxs-lookup"><span data-stu-id="79e0a-139">Create a linked storage account.</span></span>
4. <span data-ttu-id="79e0a-140">Crear un grupo en el que se van a aprovisionar las máquinas virtuales de trabajo.</span><span class="sxs-lookup"><span data-stu-id="79e0a-140">Create a pool in which to provision the worker VMs.</span></span>
5. <span data-ttu-id="79e0a-141">Cargar la aplicación de nodos de proceso o los scripts en el grupo.</span><span class="sxs-lookup"><span data-stu-id="79e0a-141">Upload the compute node application or scripts to the pool.</span></span>
6. <span data-ttu-id="79e0a-142">Crear un trabajo para asignar tareas a las máquinas virtuales del grupo.</span><span class="sxs-lookup"><span data-stu-id="79e0a-142">Create a job to assign tasks to the VMs in the pool.</span></span>
7. <span data-ttu-id="79e0a-143">Agregar el trabajo al grupo.</span><span class="sxs-lookup"><span data-stu-id="79e0a-143">Add the job to the pool.</span></span>
8. <span data-ttu-id="79e0a-144">Comenzar la ejecución de Batch.</span><span class="sxs-lookup"><span data-stu-id="79e0a-144">Begin the Batch run.</span></span>
9. <span data-ttu-id="79e0a-145">Las tareas de las colas de trabajo se ejecutan en los nodos de proceso.</span><span class="sxs-lookup"><span data-stu-id="79e0a-145">The job queues tasks to run on the compute nodes.</span></span>
10. <span data-ttu-id="79e0a-146">Los nodos de proceso ejecutan las tareas a medida que las máquinas virtuales están disponibles.</span><span class="sxs-lookup"><span data-stu-id="79e0a-146">Compute nodes run the tasks as the VMs become available.</span></span>

<span data-ttu-id="79e0a-147">En la figura 3 se muestra una ilustración de este proceso.</span><span class="sxs-lookup"><span data-stu-id="79e0a-147">An illustration of this process is show in Figure 3.</span></span>

![Proceso de ejecución de Batch](./assets/risk-grid-compute-assets/07-batch-run-process.png)

<span data-ttu-id="79e0a-149">**Figura 3:** Modelo de concepto de Batch lógico</span><span class="sxs-lookup"><span data-stu-id="79e0a-149">**Figure 3:** Logical Batch concept model</span></span>

<span data-ttu-id="79e0a-150">Una vez que finalizan las tareas, puede ser útil quitar los nodos de proceso para no incurrir en gastos mientras no se usan.</span><span class="sxs-lookup"><span data-stu-id="79e0a-150">Once tasks are complete, it can be useful to remove the compute nodes to not incur fees while not in use.</span></span> <span data-ttu-id="79e0a-151">Para eliminarlos, mediante código o el portal, se puede eliminar el grupo contenedor, lo que quitará las máquinas virtuales de trabajo.</span><span class="sxs-lookup"><span data-stu-id="79e0a-151">To delete them, via code or the portal, one can delete the containing pool, which will remove the worker VMs.</span></span>

<span data-ttu-id="79e0a-152">Para tutoriales más detallados sobre cómo empezar con Batch, hay disponibles [Inicios rápidos en 5 minutos](/azure/batch/?WT.mc_id=gridbanksg-docs-dastarr) que le guiarán a través del proceso en varios idiomas o a través de Azure Portal.</span><span class="sxs-lookup"><span data-stu-id="79e0a-152">For more detailed walkthroughs on how to get starting with Batch, [5-minute Quickstarts](/azure/batch/?WT.mc_id=gridbanksg-docs-dastarr) are available to take you through the process in several languages or through the Azure portal.</span></span>

## <a name="batch-process-scheduling"></a><span data-ttu-id="79e0a-153">Programación de procesos de Batch</span><span class="sxs-lookup"><span data-stu-id="79e0a-153">Batch process scheduling</span></span>

<span data-ttu-id="79e0a-154">Azure Batch tiene un programador integrado, por lo que la programación de cada ejecución se puede definir en el portal o a través de API.</span><span class="sxs-lookup"><span data-stu-id="79e0a-154">Azure Batch has a scheduler built in so scheduling of each run can be defined in the portal or through APIs.</span></span> <span data-ttu-id="79e0a-155">El programador de trabajos de Batch puede definir diferentes programaciones para desencadenar varios trabajos.</span><span class="sxs-lookup"><span data-stu-id="79e0a-155">The Batch job scheduler can define multiple schedules to fire multiple jobs.</span></span> <span data-ttu-id="79e0a-156">Cada trabajo tiene sus propias propiedades, como qué hacer cuando el trabajo se inicia y finaliza.</span><span class="sxs-lookup"><span data-stu-id="79e0a-156">Each job has its own properties such as what to do when the job starts and ends.</span></span> <span data-ttu-id="79e0a-157">Las programaciones de trabajos se pueden establecer en intervalos periódicos o para una ejecución de un solo uso.</span><span class="sxs-lookup"><span data-stu-id="79e0a-157">Job schedules can be set on recurring intervals or for a one-time run.</span></span>

<span data-ttu-id="79e0a-158">Muchos sistemas de computación en malla de la banca ya tienen su propio servicio de programación.</span><span class="sxs-lookup"><span data-stu-id="79e0a-158">Many bank grid computing systems already have their own scheduling service.</span></span> <span data-ttu-id="79e0a-159">Puede que no haya una necesidad inmediata de mover mi programador a Azure.</span><span class="sxs-lookup"><span data-stu-id="79e0a-159">There may be no immediate need to move my scheduler to Azure.</span></span> <span data-ttu-id="79e0a-160">Esto puede funcionar perfectamente porque Azure Batch se pueden invocar de forma manual o mediante un SDK, lo que permite que la programación siga teniendo lugar en el entorno local y que las cargas de trabajo se procesen en Azure.</span><span class="sxs-lookup"><span data-stu-id="79e0a-160">This can work seamlessly because Azure Batch may be invoked manually or through an SDK, allowing scheduling to still occur on-premises and workloads to be processed in Azure.</span></span>

<span data-ttu-id="79e0a-161">El procesamiento de Batch puede ocurrir en una programación predeterminada o bajo demanda, pero en cualquier caso no hay ninguna necesidad de mantener las máquinas virtuales de nodos de proceso activas cuando no se usan.</span><span class="sxs-lookup"><span data-stu-id="79e0a-161">Batch processing can happen on a predetermined schedule or on demand, but in either case there is no need to keep compute node VMs alive when they aren’t being used.</span></span>  <span data-ttu-id="79e0a-162">Al usar cientos, si no miles, de nodos de proceso de máquina virtual, se pueden lograr ahorros significativos en los costos al desaprovisionar los servidores cuando terminan de ejecutar sus tareas en cola.</span><span class="sxs-lookup"><span data-stu-id="79e0a-162">When using hundreds, if not thousands, of VM compute nodes, significant cost savings can be realized by de-provisioning the servers when they are done running their queued tasks.</span></span>

## <a name="compute-node-applications"></a><span data-ttu-id="79e0a-163">Aplicaciones de nodos de proceso</span><span class="sxs-lookup"><span data-stu-id="79e0a-163">Compute node applications</span></span>

<span data-ttu-id="79e0a-164">Los nodos de proceso necesitan que una aplicación se ejecute cuando se invoca una tarea.</span><span class="sxs-lookup"><span data-stu-id="79e0a-164">Compute nodes need an application to run when a task is invoked.</span></span> <span data-ttu-id="79e0a-165">Estas aplicaciones están escritas por la empresa para realizar los trabajos de procesamiento cuando se instalan en los trabajos.</span><span class="sxs-lookup"><span data-stu-id="79e0a-165">These applications are written by the business to perform the processing jobs when installed on the workers.</span></span> <span data-ttu-id="79e0a-166">En la computación en malla de riesgos para escenarios de la banca, esta aplicación a menudo asume la tarea de transformar los datos en formatos especialmente adecuados para el análisis descendente u otro procesamiento.</span><span class="sxs-lookup"><span data-stu-id="79e0a-166">In risk grid computing for banking scenarios this this application often takes on the job of transforming data into formats especially suited for downstream analytics or other processing.</span></span>

<span data-ttu-id="79e0a-167">Cuando se proporciona la aplicación al grupo para su distribución a los nodos de proceso, se carga en un paquete de aplicación.</span><span class="sxs-lookup"><span data-stu-id="79e0a-167">When providing the application to the pool for distribution to compute nodes, it is uploaded in an application package.</span></span> <span data-ttu-id="79e0a-168">Un paquete de aplicación puede ser otra versión de un paquete de aplicación previamente cargado.</span><span class="sxs-lookup"><span data-stu-id="79e0a-168">An application package may be another version of a previously uploaded application package.</span></span> <span data-ttu-id="79e0a-169">Se puede instalar más de un paquete de aplicación en un nodo de proceso.</span><span class="sxs-lookup"><span data-stu-id="79e0a-169">More than one application package can be installed to one compute node.</span></span> <span data-ttu-id="79e0a-170">El trabajo contiene los paquetes de aplicación para cargar en los equipos de trabajado.</span><span class="sxs-lookup"><span data-stu-id="79e0a-170">The job contains the applications packages to load onto the worker machines.</span></span>

<span data-ttu-id="79e0a-171">La implementación del paquete de aplicación también puede administrarse por versión.</span><span class="sxs-lookup"><span data-stu-id="79e0a-171">Application package deployment may also be managed by version.</span></span> <span data-ttu-id="79e0a-172">Si varias versiones de un paquete de aplicación se han cargado en un grupo, se puede designar una versión específica para su uso en una ejecución de Batch como se muestra en la figura 4.</span><span class="sxs-lookup"><span data-stu-id="79e0a-172">If multiple versions of an application package have been loaded into a pool, a specific version may be designated for use in a Batch run as shown in Figure 4.</span></span> <span data-ttu-id="79e0a-173">Esto puede ser necesario en entornos de auditoría o cuando la empresa desea reproducir una ejecución anterior.</span><span class="sxs-lookup"><span data-stu-id="79e0a-173">This may be necessary in audit environments or when the business wants to reproduce a prior run.</span></span> <span data-ttu-id="79e0a-174">También se puede usar para fines de reversión si se introduce un error en la aplicación de trabajo.</span><span class="sxs-lookup"><span data-stu-id="79e0a-174">It can also be used for roll-back purposes if a bug is introduced to the worker application.</span></span>

![Proceso de ejecución de Batch](./assets/risk-grid-compute-assets/08-versioning-worker-applications.png)

<span data-ttu-id="79e0a-176">**Figura 4:** Control de versiones de las aplicaciones de tarea de nodos de proceso</span><span class="sxs-lookup"><span data-stu-id="79e0a-176">**Figure 4:** Versioning compute node task applications</span></span>

<span data-ttu-id="79e0a-177">Un paquete de aplicación se carga en el grupo como un archivo .zip que contiene los binarios de aplicación y los archivos auxiliares que se requieren para que las tareas ejecuten la aplicación.</span><span class="sxs-lookup"><span data-stu-id="79e0a-177">An application package is uploaded to the pool as a .zip file containing the application binaries and supporting files required for tasks to run the application.</span></span> <span data-ttu-id="79e0a-178">Hay 2 ámbitos para los paquetes de aplicación.</span><span class="sxs-lookup"><span data-stu-id="79e0a-178">There are 2 scopes for application packages.</span></span> <span data-ttu-id="79e0a-179">Puede designar un paquete de aplicación en el ámbito del grupo o en el ámbito de las tareas.</span><span class="sxs-lookup"><span data-stu-id="79e0a-179">You can designate an application package in scope of the pool, or in the scope of tasks.</span></span>

## <a name="pool-application-packages"></a><span data-ttu-id="79e0a-180">Paquetes de aplicación de grupo</span><span class="sxs-lookup"><span data-stu-id="79e0a-180">Pool application packages</span></span>

<span data-ttu-id="79e0a-181">Estos paquetes se implementan en cada nodo de proceso en el grupo.</span><span class="sxs-lookup"><span data-stu-id="79e0a-181">These packages are deployed to every compute node in the pool.</span></span> <span data-ttu-id="79e0a-182">Cuando una máquina virtual de nodos de proceso se aprovisiona o reinicia, o su imagen inicial se restablece, se instala una nueva copia de los paquetes de aplicación de grupo, en caso de que exista una aplicación actualizada.</span><span class="sxs-lookup"><span data-stu-id="79e0a-182">When a compute node VM is provisioned, rebooted or reimaged, a new copy of any pool application packages is installed, should an updated application exist.</span></span> <span data-ttu-id="79e0a-183">Uno o varios paquetes de aplicación pueden asignarse a un grupo, lo que significa que los nodos de proceso obtendrán todos los paquetes designados.</span><span class="sxs-lookup"><span data-stu-id="79e0a-183">One or more application packages can be assigned to a pool, which means the compute nodes will get all packages designated.</span></span>

## <a name="task-application-packages"></a><span data-ttu-id="79e0a-184">Paquetes de aplicación de tarea</span><span class="sxs-lookup"><span data-stu-id="79e0a-184">Task application packages</span></span>

<span data-ttu-id="79e0a-185">Los paquetes de aplicación que tienen como destino el nivel de tarea solo se instalan en nodos de proceso programados para ejecutar una tarea.</span><span class="sxs-lookup"><span data-stu-id="79e0a-185">Application packages targeting the task level are only installed to compute nodes scheduled to run a task.</span></span> <span data-ttu-id="79e0a-186">Los paquetes de aplicaciones de tarea están diseñados para usarse cuando se ejecuta más de un trabajo en un grupo.</span><span class="sxs-lookup"><span data-stu-id="79e0a-186">Task applications packages are intended for use when more than one job is run in one pool.</span></span>

<span data-ttu-id="79e0a-187">Las aplicaciones de tarea son útiles cuando se agregan datos generados por los trabajos de nivel de grupo, que pueden ser relevantes en escenarios de computación en malla de riesgos.</span><span class="sxs-lookup"><span data-stu-id="79e0a-187">Task applications are useful when aggregating data produced by pool-level jobs, which can be relevant in risk grid computing scenarios.</span></span> <span data-ttu-id="79e0a-188">Por ejemplo, una aplicación de tarea puede ejecutar un conjunto de cálculos de riesgos que generan datos que se usarán más adelante en el flujo de trabajo del cálculo de riesgos.</span><span class="sxs-lookup"><span data-stu-id="79e0a-188">For example, a task application may run a set of risk calculations which generate data to be used later in the risk calculation workflow.</span></span>

## <a name="scaling-batch-jobs"></a><span data-ttu-id="79e0a-189">Escalado de trabajos por lotes</span><span class="sxs-lookup"><span data-stu-id="79e0a-189">Scaling batch jobs</span></span>

<span data-ttu-id="79e0a-190">Los bancos a menudo realizan ejecuciones por lotes de análisis de riesgos durante los fines de semana o por la noche cuando los recursos informáticos están infrautilizados.</span><span class="sxs-lookup"><span data-stu-id="79e0a-190">Banks often perform risk analysis batch runs over weekends or at night when computing resources are underutilized.</span></span> <span data-ttu-id="79e0a-191">Si bien este modelo funciona para algunos, puede quedarse pequeño rápidamente, lo que requiere más capital para agregar más máquinas de trabajo a la red.</span><span class="sxs-lookup"><span data-stu-id="79e0a-191">While this model works for some, it can quickly be outgrown, requiring more capital to add more worker machines to the grid.</span></span>

<span data-ttu-id="79e0a-192">Si los trabajos de Batch tardan demasiado tiempo en ejecutarse, o si desea más capacidad de computación en las ejecuciones de Batch, Azure ofrece varias opciones.</span><span class="sxs-lookup"><span data-stu-id="79e0a-192">If Batch jobs are taking too long to run or you want more computing power in your Batch runs, Azure offers several options.</span></span>

1. <span data-ttu-id="79e0a-193">Asignar más máquinas de nodo de proceso para escalar horizontalmente.</span><span class="sxs-lookup"><span data-stu-id="79e0a-193">Allocate more compute node machines to scale out.</span></span>
2. <span data-ttu-id="79e0a-194">Asignar más máquinas de nodo de proceso versátiles para escalar verticalmente.</span><span class="sxs-lookup"><span data-stu-id="79e0a-194">Allocate more powerful compute node machines to scale up.</span></span> <span data-ttu-id="79e0a-195">Las máquinas de Azure se pueden aprovisionar para satisfacer las necesidades de alto rendimiento de los núcleos y la memoria, e incluso la capacidad de computación de GPU.</span><span class="sxs-lookup"><span data-stu-id="79e0a-195">Azure machines may be provisioned to meet high performance needs of for cores and memory, and even GPU computing power.</span></span>

> <span data-ttu-id="79e0a-196">Nota: El uso de Microsoft HPC Pack con Batch es un modelo más complejo y no se trata en este artículo.</span><span class="sxs-lookup"><span data-stu-id="79e0a-196">Note: Using Microsoft HPC Pack with Batch is a more complex model and is not discussed in this article.</span></span>

<span data-ttu-id="79e0a-197">En un clúster de procesamiento de Batch, puede haber tan solo dos máquinas virtuales de procesamiento, o miles de tareas simultáneas que se ejecutan en miles de nodos de proceso de máquinas virtuales con decenas de miles de núcleos.</span><span class="sxs-lookup"><span data-stu-id="79e0a-197">In a Batch processing cluster, there may be as few as two processing VMs, or thousands of simultaneous tasks running on thousands of VM compute nodes with tens of thousands of cores.</span></span> <span data-ttu-id="79e0a-198">Cada máquina virtual es responsable de ejecutar una única tarea a la vez.</span><span class="sxs-lookup"><span data-stu-id="79e0a-198">Each VM is responsible for running a single task at a time.</span></span> <span data-ttu-id="79e0a-199">El número de máquinas virtuales de un grupo se puede escalar manual o automáticamente según la configuración cuando la carga aumenta o disminuye.</span><span class="sxs-lookup"><span data-stu-id="79e0a-199">The number of VMs in a pool may be scaled manually or automatically as configured when load increases or decreases.</span></span>

### <a name="burst-to-cloud"></a><span data-ttu-id="79e0a-200">Ampliación a la nube</span><span class="sxs-lookup"><span data-stu-id="79e0a-200">Burst to cloud</span></span>

<span data-ttu-id="79e0a-201">Cuando los recursos de proceso de una malla local se están agotando debido a la ejecución de un trabajo de análisis de gran tamaño, la “ampliación a la nube” ofrece una manera de aumentar esos recursos mediante la incorporación de más nodos de proceso en Azure.</span><span class="sxs-lookup"><span data-stu-id="79e0a-201">When compute resources in an on-premises grid are running low due to executing a large analysis job, “burst to cloud” offers a way to augment those resources by adding more compute nodes in Azure.</span></span> <span data-ttu-id="79e0a-202">La ampliación a la nube es un modelo en el que la infraestructura o las nubes privadas distribuyen su carga de trabajo a los servidores en la nube cuando la demanda es alta para los recursos locales.</span><span class="sxs-lookup"><span data-stu-id="79e0a-202">Burst to cloud is a model in which private clouds or infrastructure distribute their workload to cloud servers when demand is high for on-premises resources.</span></span>

<span data-ttu-id="79e0a-203">Estos nodos de proceso pueden preconfigurarse como máquinas virtuales Linux o Windows para aprovisionarse en la plataforma IaaS de Azure.</span><span class="sxs-lookup"><span data-stu-id="79e0a-203">These compute nodes can be pre-configured as Linux or Windows virtual machines to be provisioned in Azure’s IaaS platform.</span></span> <span data-ttu-id="79e0a-204">Además, los servidores se pueden aprovisionar y configurar automáticamente para trabajar con las inversiones existentes, como Tibco Gridserver e IBM Symphony.</span><span class="sxs-lookup"><span data-stu-id="79e0a-204">Further, servers can be provisioned and automatically configured to work with existing investments like Tibco Gridserver and IBM Symphony.</span></span>

### <a name="automatic-scaling-formulas"></a><span data-ttu-id="79e0a-205">Fórmulas de escalado automático</span><span class="sxs-lookup"><span data-stu-id="79e0a-205">Automatic scaling formulas</span></span>

<span data-ttu-id="79e0a-206">Esta flexibilidad puede configurarse en Azure Portal o mediante el uso de [fórmulas de escalado automático](/azure/batch/batch-automatic-scaling?WT.mc_id=gridbanksg-docs-dastarr).</span><span class="sxs-lookup"><span data-stu-id="79e0a-206">This elasticity can be configured in the Azure portal or by using [automatic scaling formulas](/azure/batch/batch-automatic-scaling?WT.mc_id=gridbanksg-docs-dastarr).</span></span> <span data-ttu-id="79e0a-207">Las fórmulas de escalado automático son scripts cargados en el programador de procesamiento de Batch para un mayor control del comportamiento de Batch.</span><span class="sxs-lookup"><span data-stu-id="79e0a-207">Automatic scaling formulas are scripts uploaded to the Batch processing scheduler for fine-grained control of Batch behavior.</span></span> <span data-ttu-id="79e0a-208">El escalado automático en un grupo de nodos de proceso se realiza mediante la asociación de los nodos con fórmulas de escalado automático.</span><span class="sxs-lookup"><span data-stu-id="79e0a-208">Automatic scaling on a pool of compute nodes is done by associating the nodes with auto-scale formulas.</span></span>

<span data-ttu-id="79e0a-209">A continuación se muestra un ejemplo de una fórmula de escalado automático que dirige dicho escalado para comenzar con una máquina virtual y escalar verticalmente hasta cincuenta máquinas virtuales según sea necesario.</span><span class="sxs-lookup"><span data-stu-id="79e0a-209">Below is an example of an automatic scaling formula directing auto scaling to start with one VM and scale up to 50 VMs as needed.</span></span> <span data-ttu-id="79e0a-210">Cuando las tareas finalizan, las máquinas virtuales quedan libres una a una y la fórmula de escalado automático reduce el grupo.</span><span class="sxs-lookup"><span data-stu-id="79e0a-210">As tasks complete, VMs become free one by one and the auto scaling formula shrinks the pool.</span></span>

```Formula
startingNumberOfVMs = 1;
maxNumberofVMs = 50;
pendingTaskSamplePercent = $PendingTasks.GetSamplePercent(180 * TimeInterval_Second);
pendingTaskSamples = pendingTaskSamplePercent < 70 ? startingNumberOfVMs : avg($PendingTasks.GetSample(180 * TimeInterval_Second));
$TargetDedicatedNodes=min(maxNumberofVMs, pendingTaskSamples);
```

### <a name="other-scaling-techniques"></a><span data-ttu-id="79e0a-211">Otras técnicas de escalado</span><span class="sxs-lookup"><span data-stu-id="79e0a-211">Other scaling techniques</span></span>

<span data-ttu-id="79e0a-212">El escalado automático también se puede habilitar mediante el cmdlet de PowerShell Enable-AzureBatchAutoScale.</span><span class="sxs-lookup"><span data-stu-id="79e0a-212">Automatic scaling can also be enabled by the Enable-AzureBatchAutoScale PowerShell cmdlet.</span></span> <span data-ttu-id="79e0a-213">El cmdlet Enable-AzureBatchAutoScale permite el escalado automático del grupo especificado.</span><span class="sxs-lookup"><span data-stu-id="79e0a-213">The Enable-AzureBatchAutoScale cmdlet enables automatic scaling of the specified pool.</span></span> <span data-ttu-id="79e0a-214">A continuación, encontrará un ejemplo.</span><span class="sxs-lookup"><span data-stu-id="79e0a-214">An example follows.</span></span>

1. <span data-ttu-id="79e0a-215">El primer comando define una fórmula y luego la guarda en la variable `$Formula`.</span><span class="sxs-lookup"><span data-stu-id="79e0a-215">The first command defines a formula, and then saves it to the `$Formula` variable.</span></span>
2. <span data-ttu-id="79e0a-216">El segundo comando habilita el escalado automático en el grupo denominado `RiskGridPool` mediante la fórmula de `$Formula`.</span><span class="sxs-lookup"><span data-stu-id="79e0a-216">The second command enables automatic scaling on the pool named `RiskGridPool` using the formula in `$Formula`.</span></span>

```console
C:\> $Formula = ‘startingNumberOfVMs = 1;
maxNumberofVMs = 50;
pendingTaskSamplePercent = $PendingTasks.GetSamplePercent(180 * TimeInterval_Second?WT.mc_id=gridbanksg-docs-dastarr);
pendingTaskSamples = pendingTaskSamplePercent < 70 ? startingNumberOfVMs : avg($PendingTasks.GetSample(180 * TimeInterval_Second));
$TargetDedicatedNodes=min(maxNumberofVMs, pendingTaskSamples);’;

C:\> Enable-AzureBatchAutoScale -Id "RiskGridPool" -AutoScaleFormula $Formula -BatchContext $Context
```

<span data-ttu-id="79e0a-217">El escalado también puede lograrse mediante la CLI de Azure con el comando `az batch pool resize` y Azure Portal.</span><span class="sxs-lookup"><span data-stu-id="79e0a-217">Scaling can also be accomplished using the Azure CLI with the `az batch pool resize` command and the Azure Portal.</span></span>

## <a name="data-storage-and-retention"></a><span data-ttu-id="79e0a-218">Almacenamiento y retención de datos</span><span class="sxs-lookup"><span data-stu-id="79e0a-218">Data storage and retention</span></span>

<span data-ttu-id="79e0a-219">Una vez que un nodo de proceso ingiere y procesa los datos, los datos de salida resultantes se pueden almacenar en una base de datos para su posterior procesamiento y análisis o transformarse en la ingesta antes del almacenamiento para garantizar los formatos adecuados para el procesamiento descendente.</span><span class="sxs-lookup"><span data-stu-id="79e0a-219">Once data is ingested and processed by a compute node, the resulting output data may be stored in a database for further processing and analysis or transformed upon ingestion before storage to ensure proper formats for downstream processing.</span></span> <span data-ttu-id="79e0a-220">Microsoft Azure ofrece varias opciones de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="79e0a-220">Microsoft Azure offers several storage options.</span></span> <span data-ttu-id="79e0a-221">La elección de [qué tecnología de almacenamiento de datos utilizar](/azure/architecture/data-guide/?WT.mc_id=gridbanksg-docs-dastarr) depende en gran medida del análisis y/o las necesidades de informes de los procesos descendentes.</span><span class="sxs-lookup"><span data-stu-id="79e0a-221">The choice of [which data store technology to use](/azure/architecture/data-guide/?WT.mc_id=gridbanksg-docs-dastarr) depends largely on analysis and or reporting needs in downstream processes.</span></span>

<span data-ttu-id="79e0a-222">Cuando se usa una red híbrida, el destino de almacenamiento de datos puede ser local.</span><span class="sxs-lookup"><span data-stu-id="79e0a-222">When using a hybrid network, the data storage target may be on-premises.</span></span> <span data-ttu-id="79e0a-223">Cuando se usa Batch a través de una red híbrida, los nodos de proceso pueden volver a escribir datos en un almacén de datos local sin usar una ubicación de almacenamiento basada en Azure.</span><span class="sxs-lookup"><span data-stu-id="79e0a-223">When using Batch over a hybrid network, compute nodes can write data back to an on-premises data store without using an Azure-based storage location.</span></span> <span data-ttu-id="79e0a-224">Los trabajos también pueden escribir en el almacenamiento de archivos de Azure, que se puede montar como un disco en una máquina local para facilitar el acceso a cualquier proceso que funciona con los archivos locales.</span><span class="sxs-lookup"><span data-stu-id="79e0a-224">Workers can also write to Azure File storage, which can be mounted as a disk on an on-premises machine for easy access by any process that works with the files on-premises.</span></span>

## <a name="monitoring-and-logging"></a><span data-ttu-id="79e0a-225">Supervisión y registro</span><span class="sxs-lookup"><span data-stu-id="79e0a-225">Monitoring and logging</span></span>

<span data-ttu-id="79e0a-226">Para optimizar futuras ejecuciones del trabajo de Batch, se deben registrar datos para ayudar a identificar áreas de optimización.</span><span class="sxs-lookup"><span data-stu-id="79e0a-226">To optimize future runs of the Batch job, data should be recorded to help identify areas of optimization.</span></span> <span data-ttu-id="79e0a-227">Por ejemplo, si los trabajos se ejecutan cerca de la capacidad de la CPU, la incorporación de núcleos a los nodos de proceso puede ayudar a evitar la vinculación a la CPU y el trabajo puede finalizar con mayor rapidez.</span><span class="sxs-lookup"><span data-stu-id="79e0a-227">For example, if workers are running near CPU capacity, adding cores to the compute nodes may help avoid being CPU-bound and the job can finish faster.</span></span> <span data-ttu-id="79e0a-228">Cada ejecución de aplicación en el trabajo de Batch tiene sus propias características y las optimizaciones realizadas en las máquinas virtuales de las ejecuciones de Batch pueden ser diferentes.</span><span class="sxs-lookup"><span data-stu-id="79e0a-228">Each application run in the Batch job has its own characteristics and the optimizations made to the VMs in the Batch runs may differ.</span></span> <span data-ttu-id="79e0a-229">Para tareas de uso intensivo de memoria, se puede asignar más memoria mediante la configuración de las máquinas de manera diferente en la próxima ejecución.</span><span class="sxs-lookup"><span data-stu-id="79e0a-229">For memory intensive tasks, more memory can be allocated by configuring the machines differently in the next run.</span></span>

<span data-ttu-id="79e0a-230">El registro se puede realizar mediante el nodo de proceso y las aplicaciones principales de malla o mediante un trabajo que use el [registro de diagnóstico de Batch](/azure/batch/batch-diagnostics?WT.mc_id=gridbanksg-docs-dastarr).</span><span class="sxs-lookup"><span data-stu-id="79e0a-230">Logging can be done by the compute node and grid head applications or by a job using [Batch Diagnostic Logging](/azure/batch/batch-diagnostics?WT.mc_id=gridbanksg-docs-dastarr).</span></span> <span data-ttu-id="79e0a-231">La información de registro sobre el rendimiento de las ejecuciones de Batch se puede configurar para ayudar a identificar las áreas que son susceptibles de optimizar para mejorar el rendimiento y acelerar la finalización de las tareas.</span><span class="sxs-lookup"><span data-stu-id="79e0a-231">Logging information about the performance of the Batch runs can be configured to help identify which areas to improve for better performance and faster task completion.</span></span>

### <a name="custom-batch-monitoring-and-logging"></a><span data-ttu-id="79e0a-232">Personalización de la supervisión y el registro de Batch</span><span class="sxs-lookup"><span data-stu-id="79e0a-232">Custom Batch monitoring and logging</span></span>

<span data-ttu-id="79e0a-233">La aplicación de control y las aplicaciones de nodo de proceso pueden generar estos datos y almacenarlos para su posterior análisis.</span><span class="sxs-lookup"><span data-stu-id="79e0a-233">The controlling application and compute node applications can generate this data and store it for further analysis.</span></span> <span data-ttu-id="79e0a-234">Los datos que se consideran útiles para optimizar los trabajos de Batch incluyen:</span><span class="sxs-lookup"><span data-stu-id="79e0a-234">Data found helpful in optimizing Batch jobs includes:</span></span>

- <span data-ttu-id="79e0a-235">Horas de inicio y finalización de cada tarea</span><span class="sxs-lookup"><span data-stu-id="79e0a-235">Start and end times for each task</span></span>
- <span data-ttu-id="79e0a-236">El tiempo que cada nodo de proceso está activo y ejecutando tareas</span><span class="sxs-lookup"><span data-stu-id="79e0a-236">The time each compute node is alive and running tasks</span></span>
- <span data-ttu-id="79e0a-237">El tiempo que cada nodo de proceso está activo y no está ejecutando tareas</span><span class="sxs-lookup"><span data-stu-id="79e0a-237">The time each compute node is alive and not running tasks</span></span>
- <span data-ttu-id="79e0a-238">El tiempo de ejecución de trabajos por lotes general</span><span class="sxs-lookup"><span data-stu-id="79e0a-238">The overall batch job run time</span></span>

### <a name="batch-diagnostic-logging"></a><span data-ttu-id="79e0a-239">Registro de diagnóstico de Batch</span><span class="sxs-lookup"><span data-stu-id="79e0a-239">Batch Diagnostic Logging</span></span>

<span data-ttu-id="79e0a-240">Hay una alternativa al uso del controlador y las aplicaciones de nodo de proceso para emitir los datos de instrumentación.</span><span class="sxs-lookup"><span data-stu-id="79e0a-240">There is an alternative to using the controller and compute node applications to emit instrumentation data.</span></span> <span data-ttu-id="79e0a-241">El [registro de diagnóstico de Batch](/azure/batch/batch-diagnostics?WT.mc_id=gridbanksg-docs-dastarr) puede capturar una gran cantidad de datos de ejecución.</span><span class="sxs-lookup"><span data-stu-id="79e0a-241">[Batch Diagnostics Logging](/azure/batch/batch-diagnostics?WT.mc_id=gridbanksg-docs-dastarr) can capture a lot of the run data.</span></span> <span data-ttu-id="79e0a-242">El registro de diagnóstico de Batch no está habilitado de forma predeterminada y debe habilitarse para la cuenta de Batch.</span><span class="sxs-lookup"><span data-stu-id="79e0a-242">Batch Diagnostic Logging is not enabled by default and must be enabled for the Batch account.</span></span>

<span data-ttu-id="79e0a-243">El registro de diagnóstico de Batch proporciona una cantidad significativa de datos para ayudar a solucionar problemas y optimizar las ejecuciones de Batch.</span><span class="sxs-lookup"><span data-stu-id="79e0a-243">Batch Diagnostic Logging provides a significant amount of data aiding in trouble shooting and optimizing Batch runs.</span></span> <span data-ttu-id="79e0a-244">Horas de inicio y finalización del trabajo y las tareas, número de núcleos, número de nodos total y muchas otras métricas.</span><span class="sxs-lookup"><span data-stu-id="79e0a-244">Start and end times for job and tasks, core count, total node count and many other metrics.</span></span>

<span data-ttu-id="79e0a-245">El registro de Batch requiere un destino de almacenamiento para los registros emitidos, almacenar los eventos que la ejecución de Batch genera, como la creación de grupos, la ejecución de trabajos, la ejecución de tareas, etc. Además de almacenar los eventos de registro de diagnóstico en una cuenta de Azure Storage, los eventos del registro del servicio Batch se pueden transmitir a un [centro de eventos de Azure](/azure/event-hubs/event-hubs-what-is-event-hubs?WT.mc_id=gridbanksg-docs-dastarr) y enviarse a [Azure Log Analytics](/azure/log-analytics/log-analytics-overview?WT.mc_id=gridbanksg-docs-dastarr).</span><span class="sxs-lookup"><span data-stu-id="79e0a-245">Batch Logging requires a storage destination for the logs emitted, storing events produced by the Batch run such as pool creation, job execution, task execution, etc. In addition to storing diagnostic log events in an Azure Storage account, Batch Service Log events can be streamed to an [Azure Event Hub](/azure/event-hubs/event-hubs-what-is-event-hubs?WT.mc_id=gridbanksg-docs-dastarr), and sent to [Azure Log Analytics](/azure/log-analytics/log-analytics-overview?WT.mc_id=gridbanksg-docs-dastarr).</span></span>

<span data-ttu-id="79e0a-246">Con estos datos, se pueden optimizar la computación principal y las aplicaciones de nodo principal.</span><span class="sxs-lookup"><span data-stu-id="79e0a-246">Using these data, core computing and head node applications may be optimized.</span></span> <span data-ttu-id="79e0a-247">Esto puede reducir los costos debido a situaciones como el desaprovisionamiento más rápido de máquinas virtuales de trabajo cuando ya no se necesitan, en lugar de esperar a que la ejecución de Batch termine.</span><span class="sxs-lookup"><span data-stu-id="79e0a-247">This can lower costs due to things like faster deprovisioning worker VMs when they are no longer needed, rather than waiting for the end of the Batch run to complete.</span></span>

### <a name="batch-management-tools"></a><span data-ttu-id="79e0a-248">Herramientas de administración de Batch</span><span class="sxs-lookup"><span data-stu-id="79e0a-248">Batch management tools</span></span>

<span data-ttu-id="79e0a-249">Azure Portal proporciona un panel de supervisión de Batch que muestra información sobre Batch, como los trabajos que se están ejecutando e incluso el uso de cuota de cuenta.</span><span class="sxs-lookup"><span data-stu-id="79e0a-249">The Azure portal provides a Batch monitoring dashboard which shows information about Batch as jobs are running and even account quota usage.</span></span> <span data-ttu-id="79e0a-250">Es suficiente para muchas aplicaciones de trabajo de Batch.</span><span class="sxs-lookup"><span data-stu-id="79e0a-250">It is sufficient for many Batch job applications.</span></span>

<span data-ttu-id="79e0a-251">Además de las herramientas de administración y visualización de Batch disponibles en Azure Portal, hay una herramienta gratuita de código abierto ([BatchLabs](https://github.com/Azure/BatchLabs)) para administrar Batch.</span><span class="sxs-lookup"><span data-stu-id="79e0a-251">In addition to the Batch management and visualization tools available in the Azure portal, there is a free open source tool, [BatchLabs](https://github.com/Azure/BatchLabs) for managing Batch.</span></span> <span data-ttu-id="79e0a-252">Es una herramienta de cliente independiente, completa y gratuita que puede ayudarle a crear, depurar y supervisar aplicaciones de Azure Batch.</span><span class="sxs-lookup"><span data-stu-id="79e0a-252">This is a standalone client tool to help create, debug and monitor Azure Batch applications.</span></span> <span data-ttu-id="79e0a-253">Descargue un paquete de instalación para Mac, Linux o Windows.</span><span class="sxs-lookup"><span data-stu-id="79e0a-253">Download an installation package for Mac, Linux, or Windows.</span></span>

## <a name="network-models"></a><span data-ttu-id="79e0a-254">Modelos de red</span><span class="sxs-lookup"><span data-stu-id="79e0a-254">Network models</span></span>

<span data-ttu-id="79e0a-255">El análisis de riesgos a menudo requiere cientos, si no miles, de documentos que se ingieren en el proceso de computación en malla de riesgos.</span><span class="sxs-lookup"><span data-stu-id="79e0a-255">Risk analysis often requires hundreds, if not thousands, of documents to be ingested into the risk grid computing process.</span></span> <span data-ttu-id="79e0a-256">Estos archivos suelen ubicarse en local en un almacén de archivos, un recurso compartido de red o en otro repositorio.</span><span class="sxs-lookup"><span data-stu-id="79e0a-256">These files are often located on-premises in a file store, network share, or other repository.</span></span> <span data-ttu-id="79e0a-257">Al usar máquinas virtuales basadas en Azure para acceder a esos archivos y procesarlos, suele resultar útil que la red local se conecte sin problemas a la red de Azure, de forma que el acceso a los archivos sea sencillo y rápido.</span><span class="sxs-lookup"><span data-stu-id="79e0a-257">When using Azure-based VMs to access and process those files, it is often useful for the on-premises network to be seamlessly connected to the Azure network, so file access is simple and fast.</span></span> <span data-ttu-id="79e0a-258">Este enfoque puede incluso significar que no se necesitan cambios de código para el código que realiza el procesamiento en los nodos de proceso.</span><span class="sxs-lookup"><span data-stu-id="79e0a-258">This approach may even mean no code changes are needed to the code doing the processing on the compute nodes.</span></span>

<span data-ttu-id="79e0a-259">Azure ofrece dos modelos para conectar de manera segura y confiable los sistemas actuales locales con Azure: [Microsoft Azure ExpressRoute](/azure/expressroute/expressroute-introduction?WT.mc_id=gridbanksg-docs-dastarr) y [VPN Gateway](/azure/vpn-gateway/?WT.mc_id=gridbanksg-docs-dastarr).</span><span class="sxs-lookup"><span data-stu-id="79e0a-259">Azure offers two models for securely and reliably connecting current on-premises systems to Azure, [Microsoft Azure ExpressRoute](/azure/expressroute/expressroute-introduction?WT.mc_id=gridbanksg-docs-dastarr) and [VPN Gateway](/azure/vpn-gateway/?WT.mc_id=gridbanksg-docs-dastarr).</span></span> <span data-ttu-id="79e0a-260">Ambos ofrecen conectividad confiable y segura, aunque existen diferencias en la implementación, el rendimiento y [otros atributos](/azure/networking/networking-overview?WT.mc_id=gridbanksg-docs-dastarr).</span><span class="sxs-lookup"><span data-stu-id="79e0a-260">Both offer secure reliable connectivity, although there are differences in implementation, performance and [other attributes](/azure/networking/networking-overview?WT.mc_id=gridbanksg-docs-dastarr).</span></span>

<span data-ttu-id="79e0a-261">Como alternativa, el nodo principal de la computación en malla de riesgos puede encontrarse en el entorno local y ejecutar el trabajo de Batch a través de API de REST o SDK en .NET y otros lenguajes.</span><span class="sxs-lookup"><span data-stu-id="79e0a-261">Alternatively, the risk grid computing head node may live on-premises and execute the Batch job through the REST APIs or SDKs in .NET and other languages.</span></span>

<span data-ttu-id="79e0a-262">Hay otras técnicas para llenar el vacío entre Azure y los recursos locales sin una solución de red híbrida.</span><span class="sxs-lookup"><span data-stu-id="79e0a-262">There are other techniques for bridging the gap between Azure and on-premises resources without a hybrid network solution.</span></span> <span data-ttu-id="79e0a-263">A continuación se proporciona más información sobre esto.</span><span class="sxs-lookup"><span data-stu-id="79e0a-263">More information on this is provided below.</span></span>

### <a name="expressroute"></a><span data-ttu-id="79e0a-264">ExpressRoute</span><span class="sxs-lookup"><span data-stu-id="79e0a-264">ExpressRoute</span></span>

<span data-ttu-id="79e0a-265">ExpressRoute une su red local o de centro de datos a Azure a través de una conexión privada facilitada por un asociado de conectividad, como su proveedor de servicios de Internet actual (ISP?WT.mc_id=gridbanksg-docs-dastarr).</span><span class="sxs-lookup"><span data-stu-id="79e0a-265">ExpressRoute ties your on-premises or datacenter network to Azure through a private connection facilitated by a connectivity partner, such as your current Internet Service Provider (ISP?WT.mc_id=gridbanksg-docs-dastarr).</span></span> <span data-ttu-id="79e0a-266">Esto permite que ambas redes se vean entre sí como la misma instancia de red, lo que proporciona acceso sin problemas entre las redes.</span><span class="sxs-lookup"><span data-stu-id="79e0a-266">This enables both networks to see each other as the same network instance, providing seamless access between networks.</span></span> <span data-ttu-id="79e0a-267">La integración de las redes es fundamental cuando desea integrar sistemas locales existentes con una red de Azure y ExpressRoute ofrece las velocidades de conexión más rápidas posible.</span><span class="sxs-lookup"><span data-stu-id="79e0a-267">Network integration is critical when you want to integrate existing on-premises systems with an Azure network, and ExpressRoute offers the fastest connection speeds possible.</span></span>

<span data-ttu-id="79e0a-268">[Aquí puede encontrar](https://azure.microsoft.com/en-us/pricing/details/expressroute/?WT.mc_id=gridbanksg-docs-dastarr) más información sobre precios de Azure ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="79e0a-268">Additional pricing information for Azure ExpressRoute [can be found here](https://azure.microsoft.com/en-us/pricing/details/expressroute/?WT.mc_id=gridbanksg-docs-dastarr).</span></span>

### <a name="vpn-gateway"></a><span data-ttu-id="79e0a-269">VPN Gateway</span><span class="sxs-lookup"><span data-stu-id="79e0a-269">VPN Gateway</span></span>

<span data-ttu-id="79e0a-270">VPN Gateway es otra manera de conectar la red a Azure.</span><span class="sxs-lookup"><span data-stu-id="79e0a-270">A VPN Gateway is another way to connect your network to Azure.</span></span> <span data-ttu-id="79e0a-271">La desventaja de este modelo es que el tráfico fluye a través de Internet.</span><span class="sxs-lookup"><span data-stu-id="79e0a-271">The downside of this model is traffic flows over the Internet.</span></span> <span data-ttu-id="79e0a-272">El resultado es que la conexión puede ser menos resistente y las velocidades de la red no pueden alcanzar las de ExpressRoute; sin embargo, esto puede no ser una barrera para un escenario de computación en malla de riesgos, ya que la lectura de los archivos de datos suele ser una operación rápida.</span><span class="sxs-lookup"><span data-stu-id="79e0a-272">The connection can less resilient as a result and network speeds cannot reach those of ExpressRoute, however this may not be a barrier for a risk grid computing scenario as reading data files is typically a fast operation.</span></span>

<span data-ttu-id="79e0a-273">[Aquí puede encontrar](https://azure.microsoft.com/en-us/pricing/details/expressroute/?WT.mc_id=gridbanksg-docs-dastarr) más información sobre precios de VPN Gateway.</span><span class="sxs-lookup"><span data-stu-id="79e0a-273">Additional pricing information for VPN Gateway [can be found here](https://azure.microsoft.com/en-us/pricing/details/expressroute/?WT.mc_id=gridbanksg-docs-dastarr).</span></span>

### <a name="choices-for-connectivity-details"></a><span data-ttu-id="79e0a-274">Detalles sobre las opciones de conectividad</span><span class="sxs-lookup"><span data-stu-id="79e0a-274">Choices for connectivity details</span></span>

<span data-ttu-id="79e0a-275">Existen básicamente dos modelos para ampliar la red a Azure, como se muestra en la figura 5.</span><span class="sxs-lookup"><span data-stu-id="79e0a-275">There are essentially two models for extending your network to Azure as shown in Figure 5.</span></span>

1. <span data-ttu-id="79e0a-276">Puerta de enlace virtual: de sitio a sitio</span><span class="sxs-lookup"><span data-stu-id="79e0a-276">Virtual Gateway – Site-to-Site</span></span>
2. <span data-ttu-id="79e0a-277">ExpressRoute: proveedor de Exchange o ISP</span><span class="sxs-lookup"><span data-stu-id="79e0a-277">ExpressRoute – Exchange or ISP provider</span></span>

![Sitio a sitio y ExpressRoute](./assets/risk-grid-compute-assets/10-s2s-expressroute.png)

<span data-ttu-id="79e0a-279">**Figura 5:** Sitio a sitio y ExpressRoute</span><span class="sxs-lookup"><span data-stu-id="79e0a-279">**Figure 5:** Site-to-Site and ExpressRoute</span></span>

#### <a name="virtual-gateway-site-to-site-integration"></a><span data-ttu-id="79e0a-280">Integración de sitio a sitio con puerta de enlace virtual</span><span class="sxs-lookup"><span data-stu-id="79e0a-280">Virtual Gateway Site-to-Site integration</span></span>

<span data-ttu-id="79e0a-281">[VPN Gateway de sitio a sitio](/azure/vpn-gateway/vpn-gateway-howto-site-to-site-resource-manager-portal?WT.mc_id=gridbanksg-docs-dastarr) conecta la red local a una red virtual de Azure.</span><span class="sxs-lookup"><span data-stu-id="79e0a-281">A [Site-to-Site VPN Gateway](/azure/vpn-gateway/vpn-gateway-howto-site-to-site-resource-manager-portal?WT.mc_id=gridbanksg-docs-dastarr) connects your on-premises network to an Azure VNet.</span></span> <span data-ttu-id="79e0a-282">Esto cierra la brecha entre las redes esencialmente haciendo que formen parte de la misma red, con acceso bidireccional a recursos, servidores y artefactos.</span><span class="sxs-lookup"><span data-stu-id="79e0a-282">This bridges the gap between networks essentially making them parts of the same network, with two-way access to resources, servers, and artifacts.</span></span> <span data-ttu-id="79e0a-283">Esto permite un acceso directo a archivos de datos desde las máquinas virtuales de trabajo de Azure que ejecutan el trabajo por lotes de la computación en malla de riesgos.</span><span class="sxs-lookup"><span data-stu-id="79e0a-283">This allows direct access to data files from the Azure worker VMs running the risk grid computing batch job.</span></span>

#### <a name="expressroute-integration"></a><span data-ttu-id="79e0a-284">Integración de ExpressRoute</span><span class="sxs-lookup"><span data-stu-id="79e0a-284">ExpressRoute integration</span></span>

<span data-ttu-id="79e0a-285">Una conexión de ExpressRoute facilitada por un proveedor de red asociado de Azure obtiene los mismos beneficios que una conexión de sitio a sitio, pero con velocidades y confiabilidad más altas.</span><span class="sxs-lookup"><span data-stu-id="79e0a-285">An ExpressRoute connection facilitated by an Azure partner network provider realizes the same benefits as a Site-to-Site connection, but with higher speeds and reliability.</span></span>

<span data-ttu-id="79e0a-286">Obtenga más información sobre [modelos de conectividad de ExpressRoute] (/azure/expressroute/expressroute-connectivity-models?WT.mc_id=gridbanksg-docs-dastarr).</span><span class="sxs-lookup"><span data-stu-id="79e0a-286">Get more information about [ExpressRoute connectivity models] (/azure/expressroute/expressroute-connectivity-models?WT.mc_id=gridbanksg-docs-dastarr).</span></span>

### <a name="batch-processing-without-an-azure-hybrid-network"></a><span data-ttu-id="79e0a-287">Procesamiento por lotes sin una red híbrida de Azure</span><span class="sxs-lookup"><span data-stu-id="79e0a-287">Batch processing without an Azure hybrid network</span></span>

<span data-ttu-id="79e0a-288">Otro escenario de Batch es cargar todos los archivos de datos en el almacenamiento de Azure para que posteriormente los procesen las máquinas de proceso basadas en Azure.</span><span class="sxs-lookup"><span data-stu-id="79e0a-288">Another Batch scenario is uploading all data files into Azure storage for later processing by Azure-based compute machines.</span></span> <span data-ttu-id="79e0a-289">El almacenamiento de archivos y el almacenamiento de blobs son candidatos probables para almacenar datos de computación en malla de riesgos.</span><span class="sxs-lookup"><span data-stu-id="79e0a-289">File storage and Blob storage are likely candidates for storing risk grid computing data.</span></span>

<span data-ttu-id="79e0a-290">En este escenario, el controlador de trabajos y todos los nodos de proceso se encuentran en Azure como se muestra en la figura 6.</span><span class="sxs-lookup"><span data-stu-id="79e0a-290">In this scenario, the job controller and all compute nodes live in Azure as shown in Figure 6.</span></span> <span data-ttu-id="79e0a-291">El destino probable para los datos procesados es un almacén de datos de Azure, en preparación para el procesamiento posterior por parte de las soluciones de Azure Machine Learning u otros sistemas.</span><span class="sxs-lookup"><span data-stu-id="79e0a-291">The likely destination for processed data is an Azure data store, in preparation for further processing by Azure Machine Learning solutions or other systems.</span></span> <span data-ttu-id="79e0a-292">Este procesamiento adicional queda fuera del ámbito de este artículo.</span><span class="sxs-lookup"><span data-stu-id="79e0a-292">This additional processing is beyond the scope of this article.</span></span>

![Sitio a sitio y ExpressRoute](./assets/risk-grid-compute-assets/09-batch-upload-process.png)

<span data-ttu-id="79e0a-294">**Figura 6:** Carga por lotes al ciclo de vida de ejecución</span><span class="sxs-lookup"><span data-stu-id="79e0a-294">**Figure 6:** Batch upload to execution lifecycle</span></span>

### <a name="hybrid-network-connectivity-resources"></a><span data-ttu-id="79e0a-295">Recursos de conectividad de red híbrida</span><span class="sxs-lookup"><span data-stu-id="79e0a-295">Hybrid network connectivity resources</span></span>

<span data-ttu-id="79e0a-296">Se pueden aplicar varias configuraciones en su situación.</span><span class="sxs-lookup"><span data-stu-id="79e0a-296">Several configurations may be applicable in your situation.</span></span> <span data-ttu-id="79e0a-297">Para ayudar con las decisiones y la guía arquitectónica con respecto a la conexión de la red a Azure, consulte el artículo _[Conexión de una red local a Azure](/azure/architecture/reference-architectures/hybrid-networking/?WT.mc_id=gridbanksg-docs-dastarr)_ del grupo de asociados y prácticas.</span><span class="sxs-lookup"><span data-stu-id="79e0a-297">To help with decisions and architectural guidance regarding connecting network connectivity to Azure, see the article _[Connect an on-premises network to Azure](/azure/architecture/reference-architectures/hybrid-networking/?WT.mc_id=gridbanksg-docs-dastarr)_ by the patterns & practices group.</span></span>

- <span data-ttu-id="79e0a-298">[Consulte este artículo](/azure/vpn-gateway/vpn-gateway-about-vpngateways?WT.mc_id=gridbanksg-docs-dastarr) para las alternativas de la configuración de VPN Gateway.</span><span class="sxs-lookup"><span data-stu-id="79e0a-298">[See this article](/azure/vpn-gateway/vpn-gateway-about-vpngateways?WT.mc_id=gridbanksg-docs-dastarr) for VPN Gateway configuration alternatives.</span></span>
- <span data-ttu-id="79e0a-299">Información acerca de los [Modelos de conectividad de ExpressRoute](/azure/expressroute/expressroute-connectivity-models?WT.mc_id=gridbanksg-docs-dastarr).</span><span class="sxs-lookup"><span data-stu-id="79e0a-299">Learn about [ExpressRoute connectivity models](/azure/expressroute/expressroute-connectivity-models?WT.mc_id=gridbanksg-docs-dastarr).</span></span>
- <span data-ttu-id="79e0a-300">Calcule los [precios de ExpressRoute](https://azure.microsoft.com/en-us/pricing/details/expressroute/?WT.mc_id=gridbanksg-docs-dastarr).</span><span class="sxs-lookup"><span data-stu-id="79e0a-300">Calculate [ExpressRoute pricing](https://azure.microsoft.com/en-us/pricing/details/expressroute/?WT.mc_id=gridbanksg-docs-dastarr).</span></span>
- <span data-ttu-id="79e0a-301">Calcule los [precios de VPN Gateway](https://azure.microsoft.com/en-us/pricing/details/vpn-gateway/?WT.mc_id=gridbanksg-docs-dastarr).</span><span class="sxs-lookup"><span data-stu-id="79e0a-301">Calculate [VPN Gateway pricing](https://azure.microsoft.com/en-us/pricing/details/vpn-gateway/?WT.mc_id=gridbanksg-docs-dastarr).</span></span>

## <a name="security-considerations"></a><span data-ttu-id="79e0a-302">Consideraciones sobre la seguridad</span><span class="sxs-lookup"><span data-stu-id="79e0a-302">Security considerations</span></span>

<span data-ttu-id="79e0a-303">Se puede crear una [red virtual (VNet)](/azure/virtual-network/virtual-networks-overview?WT.mc_id=gridbanksg-docs-dastarr) de Azure así como los nodos de proceso del grupo dentro de ella.</span><span class="sxs-lookup"><span data-stu-id="79e0a-303">An Azure [virtual network (VNet)](/azure/virtual-network/virtual-networks-overview?WT.mc_id=gridbanksg-docs-dastarr) may be created and the pool's compute nodes created within it.</span></span> <span data-ttu-id="79e0a-304">Esto proporciona un nivel adicional de aislamiento para las ejecuciones de Batch y permite la autenticación mediante [Azure Active Directory (AAD)](/azure/active-directory/active-directory-whatis?WT.mc_id=gridbanksg-docs-dastarr).</span><span class="sxs-lookup"><span data-stu-id="79e0a-304">This provides an extra level of isolation for the Batch runs and allows authentication using [Azure Active Directory (AAD)](/azure/active-directory/active-directory-whatis?WT.mc_id=gridbanksg-docs-dastarr).</span></span> <span data-ttu-id="79e0a-305">Consulte [Configuración de la red del grupo](/azure/batch/batch-api-basics#pool-network-configuration?WT.mc_id=gridbanksg-docs-dastarr) para más información.</span><span class="sxs-lookup"><span data-stu-id="79e0a-305">See [Pool network configuration](/azure/batch/batch-api-basics#pool-network-configuration?WT.mc_id=gridbanksg-docs-dastarr) for more information.</span></span>

<span data-ttu-id="79e0a-306">Hay dos maneras de autenticar una aplicación de Batch mediante AAD:</span><span class="sxs-lookup"><span data-stu-id="79e0a-306">There are two ways to authenticate a Batch application using AAD:</span></span>

1. <span data-ttu-id="79e0a-307">**Autenticación integrada**.</span><span class="sxs-lookup"><span data-stu-id="79e0a-307">**Integrated authentication**.</span></span> <span data-ttu-id="79e0a-308">Una aplicación de Batch que usa cuentas de AAD puede usar la cuenta para obtener recursos a almacenes de datos y otros recursos.</span><span class="sxs-lookup"><span data-stu-id="79e0a-308">A batch application using AAD accounts can use the account to gain resources to data stores and other resources.</span></span>

2. <span data-ttu-id="79e0a-309">**Entidad de servicio**.</span><span class="sxs-lookup"><span data-stu-id="79e0a-309">**Service principal**.</span></span> <span data-ttu-id="79e0a-310">Las entidades de servicio de AAD definen la directiva de acceso y los permisos de los usuarios y las aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="79e0a-310">AAD Service principals define access policy and permissions for users and applications.</span></span> <span data-ttu-id="79e0a-311">Una entidad de servicio proporciona autenticación para los usuarios mediante una clave secreta asociada a esa aplicación.</span><span class="sxs-lookup"><span data-stu-id="79e0a-311">A service principal provides authentication to users using a secret key tied to that application.</span></span> <span data-ttu-id="79e0a-312">Esto permite autenticar una aplicación desatendida con una clave secreta.</span><span class="sxs-lookup"><span data-stu-id="79e0a-312">This allows authenticating an unattended application with a secret key.</span></span> <span data-ttu-id="79e0a-313">Una entidad de servicio define la directiva y los permisos de una aplicación para representar dicha aplicación cuando se accede a los recursos en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="79e0a-313">A service principal defines the policy and permissions for an application to represent the application when accessing resources at runtime.</span></span> <span data-ttu-id="79e0a-314">[Obtenga más información aquí](/azure/active-directory/develop/active-directory-application-objects?WT.mc_id=gridbanksg-docs-dastarr).</span><span class="sxs-lookup"><span data-stu-id="79e0a-314">[Learn more here](/azure/active-directory/develop/active-directory-application-objects?WT.mc_id=gridbanksg-docs-dastarr).</span></span>

<span data-ttu-id="79e0a-315">Para más información sobre la seguridad en el procesamiento por lotes con AAD, [consulte este artículo](/azure/batch/batch-aad-auth?WT.mc_id=gridbanksg-docs-dastarr).</span><span class="sxs-lookup"><span data-stu-id="79e0a-315">For more information on security in batch processing with AAD, [see this article](/azure/batch/batch-aad-auth?WT.mc_id=gridbanksg-docs-dastarr).</span></span>

<span data-ttu-id="79e0a-316">El servicio Batch también se puede autenticar con una clave compartida.</span><span class="sxs-lookup"><span data-stu-id="79e0a-316">The Batch service can also authenticate with a shared key.</span></span> <span data-ttu-id="79e0a-317">El servicio de autenticación requiere que se agreguen dos valores de encabezado a la solicitud HTTP, los datos y la autorización.</span><span class="sxs-lookup"><span data-stu-id="79e0a-317">The authentication service requires two header values to be added to the HTTP request, data and authorization.</span></span> <span data-ttu-id="79e0a-318">[Consulte aquí para más información](/rest/api/batchservice/authenticate-requests-to-the-azure-batch-service?WT.mc_id=gridbanksg-docs-dastarr) sobre la autenticación mediante clave compartida.</span><span class="sxs-lookup"><span data-stu-id="79e0a-318">[See here for more](/rest/api/batchservice/authenticate-requests-to-the-azure-batch-service?WT.mc_id=gridbanksg-docs-dastarr) on shared key authentication.</span></span>

## <a name="cost-considerations"></a><span data-ttu-id="79e0a-319">Consideraciones sobre el costo</span><span class="sxs-lookup"><span data-stu-id="79e0a-319">Cost considerations</span></span>

<span data-ttu-id="79e0a-320">El uso de Azure Batch es gratuito.</span><span class="sxs-lookup"><span data-stu-id="79e0a-320">There is no charge for using Azure Batch.</span></span> <span data-ttu-id="79e0a-321">Solo deberá pagar por los recursos subyacentes que utilice, como el tiempo de actividad de las máquinas virtuales, el almacenamiento y las redes.</span><span class="sxs-lookup"><span data-stu-id="79e0a-321">You only pay for the underlying resources consumed, such as virtual machine uptime, storage, and networking.</span></span> <span data-ttu-id="79e0a-322">Sin embargo, las máquinas virtuales de nodos de proceso todavía cuestan dinero cuando están inactivas, por lo que es una buena idea desaprovisionarlas cuando ya no se necesitan.</span><span class="sxs-lookup"><span data-stu-id="79e0a-322">However, the compute node VMs still cost money when sitting idle, so it is a good idea to deprovision machines when they are no longer needed.</span></span> <span data-ttu-id="79e0a-323">A menudo, esto se hace mediante la eliminación del grupo que las contiene.</span><span class="sxs-lookup"><span data-stu-id="79e0a-323">This is often done by deleting the pool containing them.</span></span>
>
<span data-ttu-id="79e0a-324">Al crear un grupo, puede especificar los tipos de nodos de proceso que le interesan y un número de destino para cada uno.</span><span class="sxs-lookup"><span data-stu-id="79e0a-324">When creating a pool, you can specify which types of compute nodes you want and the number of each.</span></span> <span data-ttu-id="79e0a-325">Los dos tipos de nodos de proceso son los siguientes:</span><span class="sxs-lookup"><span data-stu-id="79e0a-325">The two types of compute nodes are as follows:</span></span>
>
><span data-ttu-id="79e0a-326">**Nodos de proceso dedicados**, que están reservados a las cargas de trabajo que usted tenga.</span><span class="sxs-lookup"><span data-stu-id="79e0a-326">**Dedicated compute nodes** are reserved for your workloads.</span></span> <span data-ttu-id="79e0a-327">Son más caros que los nodos de prioridad baja, pero se garantiza que nunca se verán reemplazados.</span><span class="sxs-lookup"><span data-stu-id="79e0a-327">They are more expensive than low-priority nodes, but they are guaranteed to never be preempted.</span></span>
>
><span data-ttu-id="79e0a-328">**Nodos de proceso de baja prioridad**, que aprovechan la capacidad sobrante en Azure para ejecutar las cargas de trabajo de Batch.</span><span class="sxs-lookup"><span data-stu-id="79e0a-328">**Low-priority compute nodes** take advantage of surplus capacity in Azure to run Batch workloads.</span></span> <span data-ttu-id="79e0a-329">Los nodos de prioridad baja son menos costosos por hora que los nodos dedicados y habilitan las cargas de trabajo que requieren una gran potencia de proceso.</span><span class="sxs-lookup"><span data-stu-id="79e0a-329">Low-priority nodes are less expensive per hour than dedicated nodes, and enable workloads requiring a lot of compute power.</span></span> <span data-ttu-id="79e0a-330">Para obtener más información, vea [Use low-priority VMs with Batch](/azure/batch/batch-low-pri-vms?WT.mc_id=gridbanksg-docs-dastarr) (Usar máquinas virtuales de prioridad baja con Batch).</span><span class="sxs-lookup"><span data-stu-id="79e0a-330">For more information, see [Use low-priority VMs with Batch](/azure/batch/batch-low-pri-vms?WT.mc_id=gridbanksg-docs-dastarr).</span></span>
>
><span data-ttu-id="79e0a-331">Los nodos dedicados y de baja prioridad pueden existir en el mismo grupo.</span><span class="sxs-lookup"><span data-stu-id="79e0a-331">Dedicated and low-priority nodes may exist in the same pool.</span></span>
>
><span data-ttu-id="79e0a-332">Para obtener información sobre los precios de los nodos de proceso de prioridad baja y dedicados, vea [Precios de Batch](https://azure.microsoft.com/pricing/details/batch/?WT.mc_id=gridbanksg-docs-dastarr).</span><span class="sxs-lookup"><span data-stu-id="79e0a-332">For pricing information for both low-priority and dedicated compute nodes, see [Batch Pricing](https://azure.microsoft.com/pricing/details/batch/?WT.mc_id=gridbanksg-docs-dastarr).</span></span>

<span data-ttu-id="79e0a-333">Cuando se usa el servicio de registro de diagnóstico de Batch, la emisión de datos al almacenamiento de Azure conlleva un costo.</span><span class="sxs-lookup"><span data-stu-id="79e0a-333">When using the Batch Diagnostic Logging service, the data emitted to Azure storage incurs a cost.</span></span> <span data-ttu-id="79e0a-334">Estos son datos de almacenamiento como cualquier otro dato y el precio se ve afectado por la cantidad de datos de diagnóstico retenidos.</span><span class="sxs-lookup"><span data-stu-id="79e0a-334">This is storage data like any other data, and pricing is impacted by the amount of diagnostic data retained.</span></span>

## <a name="getting-started"></a><span data-ttu-id="79e0a-335">Introducción</span><span class="sxs-lookup"><span data-stu-id="79e0a-335">Getting started</span></span>

<span data-ttu-id="79e0a-336">Si bien hay muchos lugares para comenzar con un dominio complejo como la computación de Batch para la computación en malla de riesgos, aquí hay algunos puntos de partida lógicos para entender mejor la tecnología de Batch.</span><span class="sxs-lookup"><span data-stu-id="79e0a-336">While there are many places to get started with a complex domain like Batch computing for risk grid computing, here are some logical starting points to better understand the Batch technology.</span></span>

<span data-ttu-id="79e0a-337">[Se trata de un excelente lugar para comenzar](/azure/batch/?WT.mc_id=gridbanksg-docs-dastarr) a trabajar con Batch usando ejemplos de Azure Portal y código.</span><span class="sxs-lookup"><span data-stu-id="79e0a-337">[This is a great place to start](/azure/batch/?WT.mc_id=gridbanksg-docs-dastarr) working with Batch using coding and Azure portal examples.</span></span> <span data-ttu-id="79e0a-338">Las aplicaciones de ejemplo de Azure Batch también están disponibles gratuitamente [en GitHub](https://github.com/Azure/azure-batch-samples).</span><span class="sxs-lookup"><span data-stu-id="79e0a-338">The Azure Batch sample applications are also freely available [on GitHub](https://github.com/Azure/azure-batch-samples).</span></span>

<span data-ttu-id="79e0a-339">A continuación se muestran algunos tutoriales rápidos para ayudarle a crear una aplicación sencilla para crear y ejecutar trabajos de proceso por lotes.</span><span class="sxs-lookup"><span data-stu-id="79e0a-339">Below are some quick tutorials to help you build a simple application to create and run batch compute jobs.</span></span> <span data-ttu-id="79e0a-340">Estas son las opciones para crear la aplicación:</span><span class="sxs-lookup"><span data-stu-id="79e0a-340">Options for building the application are as follows:</span></span>

- [<span data-ttu-id="79e0a-341">API de .NET de Batch</span><span class="sxs-lookup"><span data-stu-id="79e0a-341">Batch .NET API</span></span>](/azure/batch/batch-dotnet-get-started?WT.mc_id=gridbanksg-docs-dastarr)
- [<span data-ttu-id="79e0a-342">SDK de Batch para Python</span><span class="sxs-lookup"><span data-stu-id="79e0a-342">Batch SDK for Python</span></span>](/azure/batch/batch-python-tutorial?WT.mc_id=gridbanksg-docs-dastarr)
- [<span data-ttu-id="79e0a-343">SDK de Batch para Node.js</span><span class="sxs-lookup"><span data-stu-id="79e0a-343">Batch SDK for Node.js</span></span>](/azure/batch/batch-nodejs-get-started?WT.mc_id=gridbanksg-docs-dastarr)
- [<span data-ttu-id="79e0a-344">Administración de Batch con PowerShell</span><span class="sxs-lookup"><span data-stu-id="79e0a-344">Batch management with PowerShell</span></span>](/azure/batch/batch-powershell-cmdlets-get-started?WT.mc_id=gridbanksg-docs-dastarr)
- [<span data-ttu-id="79e0a-345">Administración de Batch con la CLI de Azure</span><span class="sxs-lookup"><span data-stu-id="79e0a-345">Batch management with the Azure CLI</span></span>](/azure/batch/batch-cli-get-started?WT.mc_id=gridbanksg-docs-dastarr)

<span data-ttu-id="79e0a-346">Considere la posibilidad de llevar a cabo una iniciativa de prueba de concepto.</span><span class="sxs-lookup"><span data-stu-id="79e0a-346">Consider launching a proof-of-concept initiative.</span></span> <span data-ttu-id="79e0a-347">¿Cuál será su enfoque para la ingesta de datos en Azure?</span><span class="sxs-lookup"><span data-stu-id="79e0a-347">What will your approach be for data ingestion into Azure?</span></span> <span data-ttu-id="79e0a-348">¿Usará una red híbrida o cargará datos a través de un SDK o una interfaz de REST?</span><span class="sxs-lookup"><span data-stu-id="79e0a-348">Will you use a hybrid network or upload data via an SDK or REST interface?</span></span> <span data-ttu-id="79e0a-349">Si está pensando en una red híbrida, considere la posibilidad de iniciar un piloto para implementar todo esto.</span><span class="sxs-lookup"><span data-stu-id="79e0a-349">If you are considering a bybrid network, consider launching a pilot to put this in place.</span></span>

<span data-ttu-id="79e0a-350">Evalúe el tamaño de los trabajos de proceso de Batch y seleccione la solución de escalado correcta.</span><span class="sxs-lookup"><span data-stu-id="79e0a-350">Evaluate the size of your Batch compute jobs and select the right scaling solution.</span></span> <span data-ttu-id="79e0a-351">Las [fórmulas de escalado automático](/azure/batch/batch-automatic-scaling?WT.mc_id=gridbanksg-docs-dastarr) habilitan escenarios de programación complejos mientras que los escenarios más sencillos se logran con Azure Portal.</span><span class="sxs-lookup"><span data-stu-id="79e0a-351">[Autoscaling formulas](/azure/batch/batch-automatic-scaling?WT.mc_id=gridbanksg-docs-dastarr) enable complex scheduling scenarios while simpler scenarios are achivable by using the Azure portal.</span></span>

## <a name="technologies-presented"></a><span data-ttu-id="79e0a-352">Tecnologías presentadas</span><span class="sxs-lookup"><span data-stu-id="79e0a-352">Technologies presented</span></span>

<span data-ttu-id="79e0a-353">[Azure Batch](/azure/batch/?WT.mc_id=gridbanksg-docs-dastarr) proporciona funcionalidades para ejecutar trabajos de procesamiento en paralelo a gran escala en la nube.</span><span class="sxs-lookup"><span data-stu-id="79e0a-353">[Azure Batch](/azure/batch/?WT.mc_id=gridbanksg-docs-dastarr) provides capabilities to run large scale parallel processing jobs in the cloud.</span></span>

<span data-ttu-id="79e0a-354">[Azure Active Directory](/azure/active-directory/active-directory-whatis?WT.mc_id=gridbanksg-docs-dastarr) es un servicio multiinquilino de administración de identidades y de directorios basado en la nube que combina los servicios de directorio principales, la administración del acceso de las aplicaciones y la protección de identidades en una única solución.</span><span class="sxs-lookup"><span data-stu-id="79e0a-354">[Azure Active Directory](/azure/active-directory/active-directory-whatis?WT.mc_id=gridbanksg-docs-dastarr) is a multi-tenant, cloud-based directory, and identity management service combining core directory services, application access management, and identity protection into a single solution.</span></span>

<span data-ttu-id="79e0a-355">Las [fórmulas de escalado automático](/azure/batch/batch-automatic-scaling?WT.mc_id=gridbanksg-docs-dastarr) son scripts cargados en el programador de procesamiento por lotes para un mayor control de los comportamientos de escalado de Batch.</span><span class="sxs-lookup"><span data-stu-id="79e0a-355">[Automatic scaling formulas](/azure/batch/batch-automatic-scaling?WT.mc_id=gridbanksg-docs-dastarr) are scripts uploaded to the batch processing scheduler for fine grained control of Batch scaling behaviors.</span></span>

<span data-ttu-id="79e0a-356">El [registro de diagnóstico de Batch](/azure/batch/batch-diagnostics?WT.mc_id=gridbanksg-docs-dastarr) es una característica de Azure Batch que permite la creación de un registro detallado de las ejecuciones de Batch y los eventos generados.</span><span class="sxs-lookup"><span data-stu-id="79e0a-356">[Batch Diagnostics Logging](/azure/batch/batch-diagnostics?WT.mc_id=gridbanksg-docs-dastarr) is a feature of Azure Batch enabling creation of a detailed log from your Batch runs and the events generated.</span></span> <span data-ttu-id="79e0a-357">Los registros se almacenan en Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="79e0a-357">Logs are stored in Azure Storage.</span></span>

<span data-ttu-id="79e0a-358">[BatchLabs](https://github.com/Azure/BatchLabs) es una aplicación independiente para la administración y supervisión de Batch disponible en Windows, MacOS y Linux.</span><span class="sxs-lookup"><span data-stu-id="79e0a-358">[BatchLabs](https://github.com/Azure/BatchLabs) is a standalone application for Batch monitoring and management available Windows, MacOS and Linux.</span></span>

<span data-ttu-id="79e0a-359">[ExpressRoute](/azure/expressroute/expressroute-introduction?WT.mc_id=gridbanksg-docs-dastarr) es una solución de red híbrida de alta velocidad y confiabilidad para unir redes locales y de Azure.</span><span class="sxs-lookup"><span data-stu-id="79e0a-359">[ExpressRoute](/azure/expressroute/expressroute-introduction?WT.mc_id=gridbanksg-docs-dastarr) is a high speed and reliability hybrid network solution for joining on-premises and Azure networks.</span></span>

<span data-ttu-id="79e0a-360">[VPN Gateway](/azure/vpn-gateway/?WT.mc_id=gridbanksg-docs-dastarr) es una solución de red híbrida que usa Internet para unir redes locales y de Azure.</span><span class="sxs-lookup"><span data-stu-id="79e0a-360">[VPN Gateway](/azure/vpn-gateway/?WT.mc_id=gridbanksg-docs-dastarr) is a hybrid network solution using the Internet for joining on-premises and Azure networks.</span></span>

## <a name="conclusion"></a><span data-ttu-id="79e0a-361">Conclusión</span><span class="sxs-lookup"><span data-stu-id="79e0a-361">Conclusion</span></span>

<span data-ttu-id="79e0a-362">En este documento se proporcionó información general sobre las soluciones técnicas y las consideraciones al usar Azure Batch para computación en malla de riesgos para la banca.</span><span class="sxs-lookup"><span data-stu-id="79e0a-362">This document provided an overview of technical solutions and considerations when using Azure Batch for risk grid computing for banking.</span></span> <span data-ttu-id="79e0a-363">En el artículo se ha tratado mucha información, desde la definición de Azure Batch hasta las [opciones de red](/azure/architecture/reference-architectures/hybrid-networking/?WT.mc_id=gridbanksg-docs-dastarr), e incluso se han planteado las consideraciones relacionadas con el costo.</span><span class="sxs-lookup"><span data-stu-id="79e0a-363">The article covered a lot of ground from the definition of Azure Batch to [networking options](/azure/architecture/reference-architectures/hybrid-networking/?WT.mc_id=gridbanksg-docs-dastarr), and even cost considerations.</span></span>

<span data-ttu-id="79e0a-364">Si piensa seguir avanzando en la evaluación de Azure Batch para la computación en malla de riesgos, [esta página](/azure/batch/?WT.mc_id=gridbanksg-docs-dastarr) es un buen recurso para comenzar.</span><span class="sxs-lookup"><span data-stu-id="79e0a-364">When considering moving forward in evaluating Azure Batch for risk grid computing, [this page](/azure/batch/?WT.mc_id=gridbanksg-docs-dastarr) is a good resource for getting started.</span></span> <span data-ttu-id="79e0a-365">Proporciona tutoriales de ejemplo guiados para el procesamiento de archivos en paralelo, que es inherente en computación en malla de riesgos.</span><span class="sxs-lookup"><span data-stu-id="79e0a-365">It provides sample guided tutorials for parallel file processing, which is inherent in risk grid computing.</span></span> <span data-ttu-id="79e0a-366">Los tutoriales se proporcionan mediante Azure Portal, la CLI de Azure, .NET y Python.</span><span class="sxs-lookup"><span data-stu-id="79e0a-366">Tutorials are provided using the Azure Portal, Azure CLI, .NET and Python.</span></span>
